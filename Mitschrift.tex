% !TeX spellcheck = de_DE
\documentclass[a4paper,12pt,numbers=noenddot,parskip=full]{scrartcl}
 
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[ngerman]{babel}
\usepackage{color}
\usepackage[hidelinks]{hyperref}
\usepackage{amsmath,amssymb,amstext,mathtools,amsthm}
\usepackage{subcaption}
\usepackage{float}
\usepackage{wasysym}
\usepackage{stmaryrd}
\usepackage{bbm}
\hypersetup{bookmarksnumbered}



\usepackage{tikz}
\usetikzlibrary{positioning}
\usetikzlibrary{arrows}

\usepackage{enumitem}
\setenumerate{label=\arabic*)}

\newcommand{\setN}{\mathbb{N}}
\newcommand{\setZ}{\mathbb{Z}}
\newcommand{\setQ}{\mathbb{Q}}
\newcommand{\setR}{\mathbb{R}}
\newcommand{\setC}{\mathbb{C}}
\newcommand{\setH}{\mathbb{H}}
\newcommand{\setk}{\Bbbk}
\newcommand{\ldot}{\,.\,}
\newcommand{\Forall}{~\forall}
\newcommand{\Exists}{~\exists}

\newcommand{\scrL}{\mathcal{L}}
\newcommand{\scrA}{\mathcal{A}}
\newcommand{\scrB}{\mathcal{B}}
\newcommand{\scrC}{\mathcal{C}}
\newcommand{\scrD}{\mathcal{D}}

\DeclareMathOperator{\Diag}{Diag}

\newcommand{\atdig}{\Diag^{\text{at}}}
\newcommand{\vdig}{\Diag}

\newcommand{\abs}[1]{{\left| #1 \right|}}
\newcommand{\dabs}[1]{{\left\lVert #1 \right\rVert}}
\newcommand{\heading}{\underline}
 
\DeclareMathOperator{\charac}{char}
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\dom}{Dom}
\DeclareMathOperator{\dlo}{DLO}


\newtheoremstyle{dotless}{}{}{\itshape}{}{\bfseries}{}{\newline}{}
	
\theoremstyle{dotless}
\newtheorem{theorem}{Satz}[section]
\newtheorem{corollary}[theorem]{Folgerung}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Beispiel}
\newtheorem*{axiom}{Axiom}

\makeatletter
\g@addto@macro\th@remark{\thm@headpunct{:}}
\makeatother 


\theoremstyle{remark}
\newtheorem*{remark}{Bemerkung}
 
\hfuzz=5pt 
 
\title{Modelltheorie}

\subtitle{Wintersemester 2019/20 \\ Mitschrift von Floris Remmert}
\author{Prof. Dr. Amador Martin-Pizarro\\Abteilung für mathematische Logik\\Mathematisches Institut\\Albert-Ludwigs-Universität Freiburg}
\date{\today}
 
\begin{document}
	\pagestyle{headings}
\begin{titlepage}
	\maketitle	
	\thispagestyle{empty}
\end{titlepage}
\newpage 
\thispagestyle{empty}
\quad 
\newpage
\tableofcontents 
\thispagestyle{empty}

\newpage
\setcounter{page}{1}
%Sitzung 1
\part{Theorien und Quantorenelimination}

\begin{theorem}[Morley]
	Sei $T$ eine Theorie, welche ein einziges (bis auf Isomorphie) Modell der M"achtigkeit $\aleph_0$ besitzt. Dann besitzt $T$ f"ur jede Kardinalzahl $\kappa > \aleph_0$ ein einziges Modell der M"achtigkeit $\kappa$ (bis auf Isomorphie).
\end{theorem}

\section{Erinnerung}
\begin{definition}
	\begin{itemize}
		\item Eine Sprache $\scrL$ ist eine Kollektion von Konstanten-, Funktions-, und Relationszeichen
		\item Eine $\scrL$-Struktur $\scrA$ besteht aus einer \underline{nicht-leeren} Grundmenge (oder Universum) $A$ zusammen mit Interpretationen der Symbole aus $\scrL$:
		\begin{itemize}
			\item F"ur jedes Funktionszeichen $f$ der Stelligkeit $n$ 
			\begin{equation*}
				f^\scrA : A^n \longrightarrow A
			\end{equation*}
			\item F"ur jedes Relationszeichen $R$ der Stelligkeit $m$
			\begin{equation*}
				R^\scrA \subset A^m
			\end{equation*}
		\end{itemize}
	\item Eine Einbettung $F$ von $\scrA$ nach $\scrB$ ist eine \underline{injektive} Abbildung $F: A \longrightarrow B$, welche mit den Interpretationen kompatibel\footnote{das bedeutet, dass Funktions- und Relationszeichen bei Hin- und R"uckrichtung erhalten bleiben} ist
	\item Ein Isomorphismus ist eine surjektive Einbettung.
	\item $\scrA$ ist eine Unterstruktur von $\scrB$, falls $A \subset B$ und die Inklusion $\iota : A \longrightarrow B$ eine Einbettung bestimmt
	\end{itemize}
\end{definition}

\begin{remark}
	Sei $\scrB$ eine $\scrL$-Struktur, $\emptyset \ne A \subset B$. Dann gibt es eine Unterstruktur von $\scrB$, welche von A erzeugt wird.
	
	Das Universum besteht aus $A$ zusammen mit dem Abschluss von $A$ unter allen Interpretationen der Funktionszeichen von $\scrL$.
\end{remark}

\begin{definition}
	Sei $(I, <)$ eine partielle Ordnung. Die Ordnung ist \underline{gerichtet}, falls f"ur $i, j \in I$ gibt es $k \in I$ mit $i \leq k$ und $j \leq k$.
\end{definition}

\begin{remark}
	Sei $(\scrA_i)_{i \in I}$ eine Familie von $\scrL$-Strukturen indexiert nach der gerichteten partiellen Ordnung $I$ derart, dass f"ur $i \leq j$ gilt: $\scrA_i \underset{US}{\subset} \scrA_j$.
	
	Die Menge $A=\underset{i \in I}{\bigcup} A_i$ ist das Universum einer (eindeutig bestimmten) $\scrL$-Struktur
	\begin{equation}
		\scrA = \underset{i \in I}{\bigcup} \scrA_i \label{1:str}
	\end{equation}
	
	Falls $I$ eine lineare Ordnung ist, dann ist $(\scrA_i)_{i \in I}$ eine \underline{Kette}.
	
	\underline{Zu \ref{1:str}:} \begin{itemize}
		\item $c^\scrA=c^{\scrA_i}$ f"ur ein (alle) $i \in I$, denn $c^{\scrA_i}=c^{\scrA_j}=c^{\scrA_k}$, {wegen gerichteter Ordnung}
		\item $a_1, \dots a_n \in A = \underset{i \in I}{\bigcup} A_i \Longrightarrow \exists i \in I$ mit $a_1, \dots, a_n \in A_i$.
		Also ist $f^\scrA (a_1, \dots, a_n) = f^{\scrA_i} (a_1, \dots, a_n)$ wohldefiniert.
		\item $(a_1, \dots, a_m) \in R^\scrA$ gdw es ein $i \in I$ gibt mit $a_1, \dots, a_m \in A_i$ und $(a_1, \dots, a_m) \in R^{\scrA_i}$
	\end{itemize}

	\underline{Beachte}, dass $\scrA_i \underset{US}{\subset} \scrA$ f"ur alle $i \in I$.
\end{remark}

\begin{definition}
	Eine atomare Formel ist ein Ausdruck der Form $(t_1 \dot= t_2)$, $t_1, \dots, t_k$ Terme, $R(t_1, \dots, t_k)$.
	
	Die Kollektion von Formeln ist die kleinste Klasse, welche alle atomaren Formeln enth"alt und derart, dass:
	\begin{align*}
		\varphi \text{ Formel} &\Longrightarrow \lnot \varphi \text{ Formel}\\
		\varphi, \psi \text{ Formel} &\Longrightarrow (\varphi \lor \psi) \text{ Formel}\\
		\varphi \text{ Formel}, x \text{ Variable} &\Longrightarrow \exists x \varphi \text{ Formel, ($x$ hei"st dann "`gebunden"')}
	\end{align*}
	
	\underline{Abk.:} \begin{align*}
		&(\varphi \land \psi) &&= \lnot(\lnot\varphi\lor\lnot\psi)\\
		&\forall x \varphi &&= \lnot \exists x \lnot \varphi\\
		&(\varphi \rightarrow \psi) &&= (\lnot \varphi \lor \psi)\\
		&(\varphi \leftrightarrow \psi) &&= ((\varphi \rightarrow \psi) \land (\psi \rightarrow \varphi))
	\end{align*}
\end{definition}

\begin{remark}
	
	\begin{itemize}
		\item Jede Formel $\varphi [x_1, \dots, x_n]$ l"asst sich in \underline{pr"anexer Normalform} umschreiben:	
		$Q_1 y_1 Q_2 y_2 \dots Q_m y_m \psi [x_1, \dots, x_n, y_1, \dots, y_m]$. Das ist eine quantorfreie Formel, diese l"asst sich weiter zerlegen in KNF bzw. DNF.
		\item Eine Formel ohne freie Variablen ist eine Aussage
		\item Eine Theorie ist eine Kollektion von Aussagen
	\end{itemize}
\end{remark}

\begin{example}
	Sei $\scrA$ eine $\scrL$-Struktur. Erweitere die Sprache zu der Sprache $\scrL_A = \scrL \cup \{d_a\}_{a \in A}.$
	
	$\scrA$ ist eine $\scrL_A$-Struktur, $d_a^\scrA = a$.
	\begin{itemize}
		\item $\atdig(\scrA) = \{$quantorenfreie $\scrL_A$-Aussagen $\chi$ mit $\scrA \models \chi\}$ hei"st "`atomares Diagramm"'
		\item $\vdig (\scrA) = \{\scrL$-Aussagen $\theta$ mit $\scrA \models \theta\}$ hei"st "`vollst"andiges Diagramm"'
	\end{itemize}
	Sei nun $\scrB$ eine $\scrL_A$-Struktur.
	\begin{align*}
		\scrB \models \atdig(\scrA) \Leftrightarrow &\scrA \hookrightarrow \scrB \text{ einbetten l"asst}\\
		&A \longrightarrow B\\
		&a \mapsto d_a^\scrB\\
		\scrB \models \vdig(\scrA) \Leftrightarrow &\text{ die obige Abbildung ist \underline{elementar}}\\
		\scrA \models \varphi[a_1, \dots, a_n] \Leftrightarrow &\scrB \models \varphi [F(a_1), \dots, F(a_n)], a_1, \dots a_n \in A, \varphi[x_1, \dots, x_n] \text{ Formel}
	\end{align*}
\end{example}

\begin{definition}
	\begin{itemize}
		\item $T$ ist konsistent, falls $T$ ein Modell besitzt.
		\item $T$ ist vollst"andig, falls  $T$ konsistent ist und je zwei Modelle von $T$ elementar "aquivalent sind.
	\end{itemize}
\end{definition}

\begin{theorem}[Kompaktheitssatz]
	Eine Theorie ist genau dann konsistent, wenn sie \underline{endlich konsistent}\footnote{endlich konsistent bedeutet: jede Teilmenge der Theorie besitzt ein Modell.} ist.
\end{theorem}

\underline{Wie zeigen wir, dass $\scrA \equiv \scrB$?}
\begin{theorem}[Back \& Forth]
	$S = \{F: \underset{\underset{US}{\subset} \scrA}{\scrC} \longrightarrow \underset{\underset{US}{\subset} \scrB}{\scrD}, F$ partieller Isomorphismus zwischen $\scrC$ und $\scrD$ geeignet\footnote{bspw. endlich erzeugt}$\}$.
	
	\underline{Back:} F"ur alle $F \in S$ und $b \in B$, $F:\scrC \longrightarrow \scrD$ gibt es $G \in S$ mit $G \supset F$ Erweiterung und $b \in \im (G)$.
	
	\underline{Forth:} F"ur alle $F \in S$ und $a \in A$, $F: \scrC \longrightarrow \scrD$ gibt es $H \in S$, mit $H \supset F$ Erweiterung mit $a \in \dom (H)$
	
	$\scrA$ und $\scrB$ hei"sen dann "`Back \& Forth "aquivalent"'
	
	$\rightarrow$ ist jedes $F \in S$ \underline{elementar}, so gilt insbesondere $\scrA \equiv \scrB$.
\end{theorem}

%Sitzung 2
\section{Tarskis Test}
\begin{lemma}[Tarskis Test]
	Sei $\scrB$ eine $\scrL$-Struktur und $A \subset B$ Teilmenge derart, dass f"ur jede $\scrL$-Formel $\varphi[x_1, \dots, x_n]$ und Elemente $a_1, \dots, a_n \in A$:\\
	\underline{falls}:
	\begin{equation}\label{tarski:bed}
		\scrB \models \varphi [a_1, \dots, a_n, b] \text{ f"ur ein } b \in B \Rightarrow \text{ existiert } a \in A \text{ sodass }\scrB \models \varphi[a_1, \dots, a_n, a]
	\end{equation}
	\underline{dann} ist $A$ das Universum einer elementaren Unterstruktur von $\scrB$.
	
	Insbesondere: Falls $\scrA \subset \scrB$ Unterstruktur, ist $\scrA \preceq \scrB \Leftrightarrow A$ erf"ullt \ref{tarski:bed}.
\end{lemma}
\begin{proof}
	\underline{Betrachte} $A \neq \emptyset \rightarrow$ Betrachte $\varphi[y] = (y \dot= y)$. $B \neq \emptyset \rightarrow \exists b \in B$ mit $\scrB \models \varphi[b]$. $\hookrightarrow \exists a \in A$ mit $\scrB \models \varphi[a]$
	
	\underline{Beh.:} F"ur jedes Konstantenzeichen $c \in \scrL$ ist $c^\scrB \in A$. $\hookrightarrow \varphi[y] = (y \dot= c)$, $\scrB \models \varphi[c^\scrB] \Rightarrow$ es gibt $a \in A$ mit $a=c^\scrB$.
	
	\underline{Beh.:} $A$ ist unter den Funktionen $f^\scrB$ abgeschlossen, f"ur jedes Funktionszeichen $f \in \scrL$.
	
	Sei $\varphi[x_1, \dots, x_n, y] = (y \dot= f(x_1, \dots, x_n))$ $\checkmark$
	
	F"ur $R \in \scrL$ $m$-stellig setze $R^\scrA = A^m \cap R^\scrB$ $\longrightarrow$ somit bildet $A$ eine $\scrL$-Unterstruktur $\scrA$ von $\scrB$.
	
	Noch zu zeigen: $\scrA \preceq \scrB$, d. h. $\varphi[x_1, \dots, x_n]$ $\scrL$-Formel.
	
	Seien dazu $a_1, \dots, a_n \in A$.
	\begin{equation}\label{tarksi:bew}
		\scrA \models \varphi[a_1, \dots, a_n] \Leftrightarrow \scrB \models \varphi[a_1, \dots,a_n]
	\end{equation}
	
	Induktiv "uber den Aufbau von $\varphi$.
	
	$\varphi$ ist atomar $\longrightarrow$ $\checkmark$
	\begin{align*}
		\scrA &\not\models \psi[a_1, \dots, a_n] \Leftrightarrow &\scrB &\not\models \psi[a_1, \dots, a_n]\\
		&\Updownarrow &&\Updownarrow\\
		\scrA &\models \varphi[a1, \dots, a_n] &\scrB &\models \phi[a_1, \dots, a_n]
	\end{align*}
	
	$\varphi= \lnot \psi \longrightarrow$ $\checkmark$
	
	$\varphi = (\psi_1 \lor \psi_2) \longrightarrow \checkmark$
	
	$\varphi = \exists y \psi[x_1, \dots, x_n, y]$: $\scrA \models \varphi[a_1, \dots, a_n] \Rightarrow$ es gibt ein $a \in A$ sodass $\scrA \models \psi[a_1, \dots, a_n, a]\\ {\underset{\ref{tarksi:bew}}{\Rightarrow} \scrB \models \psi[a_1, \dots, a_n, a]} \text{ f"ur ein } a \in A \subset B \Rightarrow \scrB \models \varphi[a_1, \dots, a_n]$
	
	$\scrB \models \varphi[a_1, \dots, a_n] \Rightarrow$ es gibt $b \in B$ mit $\scrB \models \psi[a_1, \dots, a_n, b] \underset{\ref{tarski:bed}}{\Rightarrow}$ es gibt ein $a \in A$ mit $\scrB \models \psi[a_1, \dots, a_n, a] \underset{\ref{tarksi:bew}}{\Rightarrow} \scrA \models \psi[a_1, \dots, a_n, a] \Rightarrow \scrA \models \varphi[a_1, \dots, a_n]$.
	
	\underline{F"ur "`insbesondere"':} Angenommen, dass $\scrA \preceq \scrB$. Sei $\varphi[x_1, \dots, x_n, y]$ eine $\scrL$-Formel, $a_1, \dots, a_n \in A$. Dann: $\scrB \models \varphi[a_1, \dots, a_n, b]$ f"ur ein $b \in B$ $\Rightarrow \scrB \models (\exists y \varphi)[a_1, \dots, a_n] \\
	\underset{\scrA \preceq \scrB}{\Rightarrow} \scrA \models (\exists y \varphi)[a_1, \dots, a_n] \Rightarrow$ es gibt ein $a \in A$ mit $\scrA \models \varphi[a_1, \dots, a_n, a] {\underset{\scrA \preceq \scrB}{\Rightarrow} \scrB \models \varphi[a_1, \dots, a_n, a]} \checkmark$
\end{proof}

\begin{proposition}[aufw"arts L"owenheim-Skolem]
	Sei $\scrA$ eine unendliche $\scrL$-Struktur, und $\kappa < \max\{|A|,|\scrL|\}$. Dann gibt es eine elementare $\scrL$-Erweiterung $\scrB \geq \scrA$ der M"achtigkeit $\kappa$.
\end{proposition}
\begin{proof}
	$\vdig(\scrA) \cup \{\lnot(c_\alpha \dot= c_\beta)\}_{\alpha \neq \beta < \kappa}$, wobei $\{c_\alpha\}_{\alpha<\kappa}$ eine Menge neuer Konstantenzeichen ist, ist konsistent weil sie endlich konsistent\footnote{Kompaktheit} ist.
	
	Aus der Konstruktion von Henkin hat $\vdig(\scrA) \cup \{\lnot(c_\alpha \dot= c_\beta)\}_{\alpha \neq \beta < \kappa}$ ein Modell der M"achtigkeit der Sprache.
	
	$\rightarrow$ ein Modell der M"achtigkeit \underline{$\kappa$}.
\end{proof}

\begin{remark}
	$|A| = n \in \setN$, $\scrB \geq \scrA \Rightarrow |B| = n$
\end{remark}

\begin{proposition}[abw"arts L"owenheim-Skolem]\label{Low:ab}
	Sei $\scrB$ eine $\scrL$-Struktur und $S \subset B$ beliebig. Dann gibt es eine elementare Unterstruktur $\scrA \preceq \scrB$ mit $A \supset S$ und $|A|\leq \max\{|S|,|\scrL|,\aleph_0\}$.
\end{proposition}

\begin{remark}
	$\setC$ in der Ringsprache $\scrL_\text{Ring}$, $S=\emptyset \Rightarrow$ es gibt eine abz"ahlbare elementare Unterstruktur von $\setC$. $\rightarrow \overline{\setQ} \preceq \setC$.
\end{remark}

\begin{proof}[Beweis \ref{Low:ab}]
	Setze $S_0 = S$. Angenommen $S_k$ wurde bereits konstruiert, w"ahle f"ur jedes $n \in \setN$, jede $\scrL$-Formel $\varphi[x_1, \dots, x_n, y]$ und Elemente $a_1, \dots, a_n \in S_k$ ein Element $a_{\varphi[a_1, \dots, a_n, y]} \in B$ derart, dass $\scrB \models ((\exists y \in \varphi)[a_1, \dots, a_n] \rightarrow \varphi[a_1, \dots, a_n, a_{\varphi[a_1, \dots, a_n, y]}])$. Setze $S_{k+1} = S_k \cup \{a_\varphi\}_{\varphi \scrL \text{-Formel, }(a_1, \dots, a_n)\in S_k}$
	
	Definiere $A = \underset{k \in \setN}{\bigcup} S_k \supset S$. Wir "uberpr"ufen, dass $A$ den Test von Tarski erf"ullt. Sei $\varphi = \varphi[x_1, \dots, x_n, y]$ eine $\scrL$-Formel, $a_1, \dots, a_n \in A$.
	
	$\scrB \models \varphi[a_1, \dots, a_n, b]$ f"ur ein $b \in B \Rightarrow$ es gibt ein $k \in \setN$ mit $a_1, \dots a_n \in S_k \Rightarrow$ es gibt ein $a_{\varphi[a_1, \dots, a_n, y]} \in S_{k+1} \subset A$ mit $\scrB \models \varphi[a_1, \dots, a_n, a] \checkmark$
	
	Ferner ist $|A| \leq \max \{\aleph_0, |\scrL|, |S|\}$.
\end{proof}

\begin{corollary}
	Sei $(\scrA_i)_{i \in I}$ eine gerichtete Familie von $\scrL$-Strukturen, sodass f"ur $i \leq j$ ist $\scrA_i \preceq \scrA_j$. Dann ist $\scrA = \underset{i \in I}{\bigcup} \scrA_i$ eine elementare Erweiterung jeder $\scrA_i$.
\end{corollary}
\begin{proof}
	Wir beweisen induktiv "uber den Aufbau von $\varphi=\varphi[x_1, \dots, x_n]$, dass f"ur alle $i \in I$, f"ur alle $a_1, \dots, a_n \in A_i$: $\scrA_i \models \varphi[a_1, \dots, a_n] \Leftrightarrow \scrA \models \varphi[a_1, \dots, a_n]$.
	
	$\varphi$ atomar $\rightarrow$ klar, denn $\scrA_i \underset{US}{\subset} \scrA$
	
	$\varphi = \lnot \varphi \Rightarrow$ ok!
	
	$\varphi = (\varphi_1 \lor \varphi_2) \Rightarrow$ ok!
	
	$\varphi = \exists y \psi[x_1, \dots, x_n, y]$: $\scrA_i\models \varphi[a_1, \dots, a_n] \Rightarrow$ es gibt ein $a \in A_i$ mit $\scrA_i\models \psi[a_1, \dots,a_n, a] \\
	\underset{\text{ind. "uber }\psi}{\Rightarrow} \scrA \models \psi[a_1, \dots, a_n, a] \Rightarrow \scrA \models \varphi[a_1, \dots, a_n]$
	
	$\scrA \models \varphi[a_1, \dots, a_n] \Rightarrow$ es gibt ein $b \in A = \underset{i \in I}{\bigcup} A_i$ mit $\scrA \models \psi[a_1, \dots, a_n, b] \Rightarrow$ es gibt $j \in I$ mit $b \in A_j \Rightarrow$ es existiert $k \in I$ mit $i \leq k$, $j \leq k$, $a_1, \dots, a_n, b \in A_k \\
	\Rightarrow \scrA_k \models \psi[a_1, \dots, a_n, b] \underset{\scrA_i \preceq \scrA_k}{\Rightarrow}$ es gibt ein $a \in A_k$ mit $\scrA_i \models \psi[a_1, \dots, a_n, a] \Rightarrow {\scrA_i \models \varphi[a_1, \dots, a_n]}$.
\end{proof}

\section{Quantorenelimination}
\begin{definition}
	Eine Theorie $T$ hat Quantorenelimination, falls jede $\scrL$-Formel $\varphi[x_1, \dots, x_n]$ "aquivalent modulo $T$ zu einer quantorenfreien $\scrL$-Formel $\psi[x_1, \dots, x_n]$ ist.
	\begin{equation*}
		T \models \forall x_1 \dots \forall x_n (\varphi[x_1, \dots, x_n] \leftrightarrow \psi[x_1, \dots, x_n])
	\end{equation*}
\end{definition}

\begin{example}
	Sei $\scrL \coloneqq (\setR, 0, 1, +, -, \cdot)$ gegeben. Betrachte die Menge $\{(a,b,c) \in \setR^3 | a \neq 0$ und es gibt $x \in \setR$ mit $ax^2+bx+c=0\} = \{(a,b,c) \in \setR^3 | a \neq 0$ und $b^2-4ac \geq 0\}$.
	
	Diese Formel ist in $\scrL$ nicht "aquivalent zu einer quantorenfreien Formel, in ${\scrL_1 \coloneqq (\setR, 0, 1, +, -, \cdot, <)}$ hingegen doch. Somit ist die Menge in $\scrL_1$ quantorenfrei.
\end{example}

%Sitzung 3
\begin{remark}
	\begin{itemize}
		\item Wenn $T$ inkonsistent st, dann hat $T$ immer Quantorenelimination
		\item Wenn $T$ Quantorenelimination hat, und $\scrA , \scrB \models T$ mit $\scrA \underset{\text{US}}{\subset} \scrB \Rightarrow \scrA \preceq \scrB$ \marginpar{"Ubung}
	\end{itemize}
\end{remark}

\begin{definition}
	\begin{itemize}
		\item Eine einfache Existenzformel ist eine Formel der Form $\varphi[x_1, \dots, x_n]=\exists y \psi[x_1, \dots, x_n, y]$
		\item Eine primitive Existenzformel ist eine Formel der Form $\varphi[x_1, \dots, x_n]=\psi[x_1, \dots, x_n,y]$, wobei $\psi$ eine endliche Konjunktion von atomaren Formeln und Negationen ist
	\end{itemize}
\end{definition}

\begin{lemma}
	Eine (konsistente) Theorie T hat genau dann Quantoreneliminantion, wenn jede primitive Existenzformel zu einer quantorenfreien Formel "aquivalent modulo T ist.
\end{lemma}
\begin{proof}
	"`$\Rightarrow$"': klar
	
	"`$\Leftarrow$"': Beachte, $\exists y (\psi_1 \lor \psi_2) \leftrightarrow (\exists y \psi_1 \lor \exists y \psi_2)$. Insbesondere, wenn $T$ Quantorenelimination f"ur primitive Existenzformeln hat, dann hat T Quantorenelimination f"ur einfache Existenzformeln.
	\begin{equation*}
		\underset{\text{einfache Existenzformel}}{\varphi} = \exists y \underbrace{\psi[x_1, \dots, x_n]}_{\text{umschreiben in DNF}} \sim \exists y (\psi_1 \lor \dots \lor \psi_n) \sim \underbrace{\overset{n}{\underset{i=1}{\bigvee}} \exists y \psi_i}_{\text{primitive Existenzformel}}
	\end{equation*}
	
	Zu zeigen: Jede beliebige Formel $\varphi[x_1, \dots, x_n]$ ist "aquivalent zu einer quantorenfreien Formel modulo $T$.
	\begin{equation*}
		\varphi[x_1, \dots, x_n] \underbrace{\sim}_{\substack{\text{pr"anexe}\\ \text{Normalform}}} Q_1 y_1 \dots Q_m y_m \underbrace{\psi[x_1, \dots, x_n, y_1, \dots, y_m]}_{\text{quantorenfrei}}, \text{ wobei }Q_i \in \{\forall, \exists\}
	\end{equation*}
	
	Induktion "uber $m$:
	\begin{itemize}
		\item[$m=0$:] $\checkmark$
		\item[$m=1$:] $\varphi = Q \underbrace{\psi[x_1, \dots, x_n, y]}_{\text{quantorenfrei}}$
		\begin{itemize}
			\item[$Q=\exists$] $\varphi$ einfache Existenzformel $\checkmark$
			\item[$Q=\forall$] $\varphi \sim \lnot \underbrace{\exists y \lnot \psi}_{\substack{\text{einfache}\\\text{Existenzformel }} \rightarrow \text{ eliminieren }\rightarrow \checkmark}$
		\end{itemize}
		\item[$m-1\rightarrow m$:] $\varphi[x_1, \dots, x_n]=Q_1 y_1 Q_2 y_2 \dots \underbrace{Q_m y_m \psi[x_1, \dots, x_n, y_1, \dots, y_m]}_{\varphi' [x_1, \dots, x_n, y_1, \dots, y_{m-1}]}$. $\varphi'$ ist eine einfache Existenzformel, wir eliminieren also:
		
		$\underbrace{\hfil}_{m-1 \text{ viele Quantoren}} \underbrace{\Theta[x_1, \dots, x_n, y_1, \dots, y_{m-1}]}_{\text{quantorenfrei}}$
		
		$\Rightarrow$ Induktion
	\end{itemize}

\end{proof}

\begin{example}
	Sei $\mathcal{K} = \{\text{unendliche Mengen}\}$. Diese Klasse l"asst sich definieren durch die Theorie \marginpar{$\exists^\infty x$}$T=\{\exists x_1 \dots \exists x_n(\bigwedge^n_{i \neq j =1}\lnot(x_i \dot= x_j))\}_{n \in \setN}$.
	Diese Theorie ist vollst"andig!
	Betrachte jetzt die definierbaren Mengen:
	\begin{equation*}
		\{b \in A | \scrA \models \underbrace{\underbrace{\varphi}_{\text{quantorenfrei}}[b, a_1, \dots, a_m]}_{\underset{\text{endlich oder koendlich}}{\updownarrow}} \}
	\end{equation*}
\end{example}

\begin{lemma}[Trennungslemma]
	Seien $T_1$ und $T_2$ zwei $\scrL$-Theorien, und $\Delta$ eine Kollektion von $\scrL$-Aussagen, welche unter endlichen Konjunktionen und Disjunktionen abgeschlossen ist. Folgende Eigenschaften sind "aquivalent:
	\begin{enumerate}
		\item Es gibt eine Aussage $\chi \in \Delta$ mit $T_1 \models \chi$
		\item F"ur alle $\scrA \models T_1$, $\scrB \models T_2$ gibt es eine Aussage $\chi \in \Delta$ mit $ \scrA \models \chi, \scrB \models \lnot \chi$
	\end{enumerate}
\end{lemma}

\begin{remark}
	Das ganze ist trivial f"ur inkonsistente Theorien.
\end{remark}

\begin{proof}
	\underline{$1\Rightarrow2$:} trivial!
	
	\underline{$2 \Rightarrow 1$:} OBdA $T_1, T_2$ konsistent. Sei $\scrA \models T_1$, setze ${\Sigma_\scrA =\{\chi, \chi \text{ Aussagen in } \Delta\text{ mit } \scrA \models \chi \}}$. 
	
	Betrachte jetzt $T_2 \cup \Sigma_\scrA$. Ist diese Theorie konsistent? Nein: W"are $\scrB \models T_2 \cup \Sigma_\scrA \hookrightarrow$ es gibt $\chi \in \Delta$ mit $\scrA \models \chi, \scrB \models \lnot \chi \Rightarrow \chi \in \Sigma_\scrA \Rightarrow \scrB \models \chi$. Widerspruch!
	
	Das bedeutet (wegen Kompaktheit), dass es $\chi_1, \dots, \chi_r \in \Sigma_\scrA$ gibt mit $T_2 \cup \{\chi_1, \dots, \chi_r\}$ inkonsistent.
	\begin{equation*}
		\hookrightarrow T_2 \models {\bigvee}_{i=1}^{r} \lnot \chi_i \Rightarrow T_2 \models \lnot (\underbrace{{\bigwedge}_{i=1}^{r} \chi_i}_{=\chi_\scrA \in \Delta })
	\end{equation*}
	Das hei"st f"ur jedes $\scrA \models T_1$ gibt es $\chi_\scrA \in \Delta$ mit $T_2 \models \lnot \chi_\scrA$ und $\scrA \models \chi_\scrA$.
	
	Sei nun $T_1 \cup \{\lnot \chi_\scrA \}_{\scrA \models T_1}$.\footnote{Ist das "uberhaupt eine Menge? Es gen"ugt die Einschr"ankung bis auf Isomorphie, das sollte reichen\dots} $\hookrightarrow$ inkonsistent nach Konstruktion.
	
	$\underset{\text{Kompaktheit}}{\Rightarrow}$ es existieren $\chi_{\scrA_1}, \dots \chi_{\scrA_n}$ mit $T_1 \cup \{\lnot \chi_{\scrA_1}, \dots, \chi_{\scrA_n} \}$ inkonsistent. Also:\\ 
	$T_1 \models \bigvee_{j=1}^n \chi_{\scrA_j} \eqqcolon \chi \in \Delta$
	
	$T_1 \models \chi$. Wollen zeigen: $T_2 \models \lnot \chi$. Aber $T_2 \models \lnot \chi_{\scrA_i}, 1 \leq i \leq n$.
\end{proof}

\begin{corollary}
	Zwei Theorien $T_1$ und $T_2$ werden von einer quantorenfreien Aussage getrennt, wenn je zwei Modelle $\scrA \models T_1$ und $\scrB \models T_2$ von einer quantorenfreien Aussage getrennt werden.
	\begin{equation*}
		\rightarrow \exists\chi \text{ quantorenfrei }: \scrA \models \chi \text{ und } \scrB \models \lnot \chi
	\end{equation*}
\end{corollary}


%Sitzung 4
\begin{theorem}
	Sei $T$ eine Theorie. Folgende Aussagen sind "aquivalent:
	\begin{enumerate}
		\item $T$ hat Quantorenelimination. \label{beh:1}
		\item \label{beh:2}Gegeben Modelle $\scrA, \scrB \models T$ und endlich erzeugte Unterstrukturen $\langle c_1, \dots, c_n \rangle_\scrA = \scrC \subset \scrA$, $\langle d_1, \dots, d_n \rangle_\scrB = \scrD \subset \scrB$, wobei $\scrC \simeq \scrD$ und $\varphi[x_1, \dots, x_n]$ eine Formel. Dann gilt:
		\begin{equation*}
			\scrA \models \varphi[c_1, \dots, c_n] \Rightarrow\footnote{Durch vertauschen von $\scrA$ und $\scrB$ gilt hier sogar $\Leftrightarrow$.} \scrB \models \varphi[d_1, \dots, d_n]
		\end{equation*}
		\item \label{beh:3} Gegeben Modelle $\scrA, \scrB$ mit isomorph erzeugten Unterstrukturen $\langle c_1, \dots, c_n \rangle_\scrA = \scrC \simeq \scrD = \langle d_1, \dots, d_n \rangle_\scrB$ wie in \ref{beh:2} und f"ur alle $\varphi[x_1, \dots, x_n]$ primitive Existenzformel, gilt:
		\begin{equation*}
			\scrA \models \varphi[c_1, \dots, c_n] \Rightarrow \scrB \models \varphi[d_1, \dots, d_n]
		\end{equation*}
	\end{enumerate}
	Ferner, falls $T$ konsistent ist, \ref{beh:1} gilt und je zwei Modelle von $T$ isomorphe endlich erzeugte Unterstrukturen besitzen, dann ist $T$ vollst"andig mit Quantorenelimination.
\end{theorem}

\begin{remark}
	Wie benutzen wir diesen Satz? %TODO Grafik erstellen!
	Letztlich wollen wir Back-\&-Forth-"Aquivalenz zeigen.
\end{remark}

\begin{proof}
	\underline{$\ref{beh:1}\Rightarrow\ref{beh:2}$:} Sei $\varphi[x_1, \dots, x_n]$. T hat Quantorenelimination $\longleftarrow$ es gibt $\psi[x_1, \dots, x_n]$ quantorenfrei mit: $T \models \forall \overrightarrow{x} (\varphi[\overrightarrow{x}] \leftrightarrow \psi[\overrightarrow{x}])$
	\begin{align*}
		&&\scrA \models \varphi[c_1, \dots, c_n]\\
		&\underset{\scrA \models T}{\Leftrightarrow} &\scrA \models \psi[c_1, \dots, c_n]\\
		&\underset{\psi \text{ quantorenfrei}}{\Leftrightarrow} &\scrC \models \psi[c_1, \dots, c_n]\\
		&\underset{\scrC \simeq \scrD}{\Leftrightarrow} &\scrD \models \psi[d_1, \dots, d_n]\\
		&\Leftrightarrow &\scrB \models \psi[d_1, \dots, d_n]\\
		&\underset{\scrB \models T}{\Leftrightarrow} &\scrB \models \varphi[d_1, \dots, d_n]
	\end{align*}
	
	\underline{$\ref{beh:2} \Rightarrow \ref{beh:3}$:} klar.
	
	\underline{$\ref{beh:3} \Rightarrow \ref{beh:1}$:} Um zu zeigen, dass $T$ Quantorenelimination besitzt, gen"ugt es nur primitive Existenzformeln $\varphi[x_1, \dots, x_n]$ zu betrachten. 
	
	Seien dazu $e_1, \dots, e_n$ neue Konstantenzeichen. Betrachte die Sprache $\scrL \cup \{e_1, \dots, e_n \}$, sowie die Theorien $T_1 = T \cup \{\varphi[e_1, \dots, e_n] \}$ und $T_2 = T \cup \{\lnot \varphi[e_1, \dots, e_n]\}$.
	
	Falls $T_1$ und $T_2$ durch eine quantorenfreie Aussage $\underbrace{\psi[e_1, \dots, e_n]}_{\substack{\text{quantorenfreie}\\ \scrL \text{-Formel}}}$ in $\scrL \cup \{e_1, \dots, e_n \}$ trennbar sind, so folgt:
	\begin{align*}
		&T \cup \{\varphi[\overrightarrow{e}] \} \models \psi[\overrightarrow{e}] \Rightarrow T \models (\varphi[\overrightarrow{e}] \rightarrow \psi[\overrightarrow{e}])\\
		&T \cup \{\lnot\varphi[\overrightarrow{e}] \} \models \lnot\psi[\overrightarrow{e}] \Rightarrow T \models (\lnot\varphi[\overrightarrow{e}] \rightarrow \psi[\overrightarrow{e}])\\
		&\Rightarrow T = (\psi[\overrightarrow{e}] \rightarrow \varphi[\overrightarrow{e}]) \underset{\text{Aufgabe\footnotemark}}{\Rightarrow} T \models \forall \overrightarrow{x} (\varphi[\overrightarrow{x}] \leftrightarrow \underbrace{\psi[\overrightarrow{x}]}_{\text{quantorenfrei}})
	\end{align*}
	\footnotetext{weil $e_1, \dots, e_n$ \underline{neue} Konstantenzeichen sind}
	Sonst, falls also $T_1, T_2$ nicht trennbar sind, gibt es zwei Modelle $\scrA \models T_1 \cup \{\varphi[\overrightarrow{e}] \}, \scrB \models T \cup \{\lnot \varphi[\overrightarrow{e}] \}$, welche alle quantorenfreien Aussagen in $\scrL \cup \{e_1, \dots, e_n \}$ gleich erf"ullen.
	
	Seien $c_1=e^\scrA_i, d_i=e^\scrB_i$. Betrachte jetzt $\langle c_1, \dots, c_n \rangle_\scrA \underset{\scrL \text{-US}}{\subset} \scrA \mid_\scrL$ und $\langle d_1, \dots, d_n \rangle_\scrB \underset{US}{\subset} \scrB \mid_\scrL$. Es gilt: $\scrA \models \varphi[c_1, \dots, c_n]$ und $\scrB \models \lnot \varphi[d_1, \dots, d_n]$.
	
	Um einen Widerspruch zu bekommen gen"ugt es zu zeigen, dass $\scrC \simeq \scrD, c_i \mapsto d_i$.
	\begin{align*}
		C &\longrightarrow D:\\
		\underbrace{t^\scrA[c_1, \dots, c_n]}_{\scrL \text{-Term}} &\mapsto t^\scrB[d_1, \dots, d_n]
	\end{align*}
	\underline{Ist diese Abbildung wohldefiniert?}
	\begin{align*}
		\text{Angenommen } &t_1^\scrA[c_1, \dots, c_n] = t_2^\scrA[c_1, \dots, c_n]\\
		\Leftrightarrow &\underbrace{\scrA}_{\text{als } \scrL \cup \{e_1, \dots, e_n \} \text{-Struktur}} \models (\underbrace{t_1[e_1, \dots, e_n] \dot= t_2[e_1, \dots, e_n]}_{\text{quantorenfreie Aussage}})\\
		\Leftrightarrow &\scrB \models (t_1[\overrightarrow{e}] \dot= t_2[\overrightarrow{e}])\\
		\Leftrightarrow &t_1^\scrB[d_1, \dots, d_n] = t_2^\scrB[d_1, \dots, d_n]\\
		\longrightarrow &\text{ wohldefiniert und injektiv}
	\end{align*}
	induktiv "uber den Aufbau zeigen wir: Das ist ein Isomorphismus.
	
	\underline{Zu "`ferner"':} Angenommen $T$ hat Quantorenelimination, ist konsistent und je zwei Modelle $\scrA, \scrB \models T$ haben isomorphe, endlich erzeugte Unterstrukturen
	\begin{equation*}
		\underset{c_i \mapsto d_i}{\langle c_1, \dots, c_n \rangle_\scrA = \underset{\subset \scrA}{\scrC} \simeq \underset{\subset \scrB}{\scrD} = \langle d_1, \dots, d_n \rangle_\scrB}
	\end{equation*}
	$T$ ist vollst"andig $\Leftrightarrow \scrA \equiv \scrB$.
	Sei $\chi$ eine $\scrL$-Aussage und schreibe $\chi = \chi[x_1, \dots, x_n]$.
	\begin{equation*}
		\scrA \models \chi \Leftrightarrow \scrA \models \chi[c_1, \dots, c_n] \underset{\ref{beh:2}}{\Leftrightarrow} \scrB \models \chi[d_1, \dots, d_n] \Leftrightarrow \scrB \models \chi
	\end{equation*}
\end{proof}

\section{Beispiele klassischer Theorien}
\begin{example}
	$T=\exists^\infty$ hat Quantorenelimination und ist vollst"andig.
\end{example}

\begin{example}
		$\dlo$ (dichte lineare Ordnung ohne Randpunkte). Sei $\scrL = \{<\}$.
	\begin{align*}
		\dlo = &\{\forall x (\lnot x<x) \}\\
		&\cup \{\forall x \forall y \forall z ((x<y \land y<z) \rightarrow (x<z)) \}\\
		&\cup \{\forall x \forall y ((x=y)\lor(x<y)\lor(y<x)) \}\\
		&\cup \{\forall x \forall y \exists z ((x<y)\rightarrow(x<z<y)) \}\\
		&\cup \{\forall x \exists u \exists v (u<x<v) \}\\
		&\cup \{\exists x (x=x) \}
	\end{align*}
	Diese Theorie ist vollst"andig und hat Quantorenelimination.
	
	Es gibt zwei Methoden, um Quantorenelimination zu zeigen:
	\begin{enumerate}
		\item
		\begin{align*}
			&\varphi[x_1, \dots,x_n] &= \exists y (\bigwedge \overbrace{\Theta_i[x_1, \dots,x_n, y]}^{\text{atomar oder Negation davon}})\\
			&&= \exists y (\psi_1[x_1, \dots, x_n] \land \bigwedge \substack{x_i = y \\ x_i \neq y \\ x_i < y \\ y < x_i})\\ \\
			&x_i=y \land x_j=y \Leftrightarrow x_i = x_j\\
			&x_i = y \land y<x_j \Leftrightarrow x_i < x_j &\longrightarrow \text{ induktiv lassen sich alle Quantoren eliminieren}
		\end{align*}
		\item Gegeben $\langle c_1, \dots, c_n \rangle_\scrA = \underset{\subset \scrA}{\scrC} \simeq \underset{\subset \scrB}{\scrD} = \langle d_1, \dots, d_n \rangle_\scrB$, mit $F: \scrC \rightarrow \scrD$ Isomorphismus und $\scrA, \scrB \models \dlo$.
		
		OBdA w"ahle $c_1<c_2<\dots<c_n \underset{F}{\mapsto} d_1<d_2<\dots<d_n$. $\longrightarrow F$ in Back-\&-Forth-System.
		\begin{align*}
			&\text{1. Fall: } &a< c_1 \rightarrow &\text{ w"ahle } b<d_1 \text{ in } \scrB \text{, weil } d_i \text{ kein Randpunkt ist.}\\
			&\text{2. Fall: } &a>c_n \rightarrow &\text{ w"ahle } b<c_n \text{ in } \scrB \text{, weil } d_i \text{ kein Randpunkt ist.}\\
			&\text{3. Fall: } &\exists i \mid c_i<a<c_{i+1} \rightarrow &\text{ w"ahle } b \text{ zwischen } d_i \text{ und } d_{i+1} \text{ weil } \scrB \text{ dicht ist.}
		\end{align*}
		
		Vollst"andigkeit folgt, weil Unterstruktur und Punkt zu Punkt.
	\end{enumerate}
\end{example}
\end{document}