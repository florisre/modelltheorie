% !TeX spellcheck = de_DE
\documentclass[a4paper,12pt,numbers=noenddot,parskip=full]{scrartcl}
 
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[ngerman]{babel}
\usepackage{color}
\usepackage[hidelinks]{hyperref}
\usepackage{amsmath,amssymb,amstext,mathtools,amsthm}
\usepackage{subcaption}
\usepackage{float}
\usepackage{wasysym}
\usepackage{stmaryrd}
\usepackage{bbm}
\hypersetup{bookmarksnumbered}



\usepackage{tikz}
\usetikzlibrary{positioning}
\usetikzlibrary{arrows}

\usepackage{enumitem}
\setenumerate{label=(\arabic*)}

\newcommand{\setN}{\mathbb{N}}
\newcommand{\setZ}{\mathbb{Z}}
\newcommand{\setQ}{\mathbb{Q}}
\newcommand{\setR}{\mathbb{R}}
\newcommand{\setC}{\mathbb{C}}
\newcommand{\setH}{\mathbb{H}}
\newcommand{\setk}{\Bbbk}
\newcommand{\ldot}{\,.\,}
\newcommand{\Forall}{~\forall}
\newcommand{\Exists}{~\exists}

\newcommand{\scrL}{\mathcal{L}}
\newcommand{\scrA}{\mathcal{A}}
\newcommand{\scrB}{\mathcal{B}}
\newcommand{\scrC}{\mathcal{C}}
\newcommand{\scrD}{\mathcal{D}}
\newcommand{\scrU}{\mathcal{U}}
\newcommand{\scrP}{\mathcal{P}}
\newcommand{\scrM}{\mathcal{M}}
\newcommand{\scrN}{\mathcal{N}}
\newcommand{\zz}{\mathrm{Z\kern-.3em\raise-0.5ex\hbox{Z}}:~}

\DeclareMathOperator{\Diag}{Diag}

\newcommand{\atdig}{\Diag^{\text{at}}}
\newcommand{\vdig}{\Diag}

\newcommand{\abs}[1]{{\left| #1 \right|}}
\newcommand{\dabs}[1]{{\left\lVert #1 \right\rVert}}
\newcommand{\heading}{\underline}
 
\DeclareMathOperator{\charac}{char}
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\dom}{Dom}
\DeclareMathOperator{\dlo}{DLO}
\DeclareMathOperator{\acf}{ACF}
\DeclareMathOperator{\quo}{Quot}
\DeclareMathOperator{\ring}{Ring}
\DeclareMathOperator{\typ}{tp}
\DeclareMathOperator{\Th}{Th}


\newtheoremstyle{dotless}{}{}{\normalfont}{}{\bfseries}{}{\newline}{}
	
\theoremstyle{dotless}
\newtheorem{theorem}{Satz}[section]
\newtheorem{corollary}[theorem]{Folgerung}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Beispiel}
\newtheorem{remark}[theorem]{Bemerkung}
\newtheorem*{axiom}{Axiom}

\makeatletter
\g@addto@macro\th@remark{\thm@headpunct{:}}
\makeatother 


 
\hfuzz=5pt 
 
\title{Modelltheorie}

\subtitle{Wintersemester 2019/20 \\ Mitschrift von Floris Remmert}
\author{Prof. Dr. Amador Martin-Pizarro\\Abteilung für mathematische Logik\\Mathematisches Institut\\Albert-Ludwigs-Universität Freiburg}
\date{\today}
 
\begin{document}
	\pagestyle{headings}
\begin{titlepage}
	\maketitle	
	\thispagestyle{empty}
\end{titlepage}
\newpage 
\thispagestyle{empty}
\quad 
\newpage
\tableofcontents 
\thispagestyle{empty}

\newpage
\setcounter{page}{1}
%Sitzung 1
Ziel dieser Vorlesung ist es, eine Aussage der folgenden Qualit"at zu erhalten:
\begin{theorem}[Morleys Kategorizitätssatz]\label{morley}
	Sei $T$ eine Theorie, welche ein einziges (bis auf Isomorphie) Modell der M"achtigkeit $\aleph_0$ besitzt. Dann besitzt $T$ f"ur jede Kardinalzahl $\kappa > \aleph_0$ ein einziges Modell der M"achtigkeit $\kappa$ (bis auf Isomorphie).
\end{theorem}

\section{Erinnerung}
\begin{definition}
	\begin{itemize}
		\item Eine Sprache $\scrL$ ist eine Kollektion von Konstanten-, Funktions-, und Relationszeichen
		\item Eine $\scrL$-Struktur $\scrA$ besteht aus einer \underline{nicht-leeren} Grundmenge (oder Universum) $A$ zusammen mit Interpretationen der Symbole aus $\scrL$:
		\begin{itemize}
			\item F"ur jedes Funktionszeichen $f$ der Stelligkeit $n$ 
			\begin{equation*}
				f^\scrA : A^n \longrightarrow A
			\end{equation*}
			\item F"ur jedes Relationszeichen $R$ der Stelligkeit $m$
			\begin{equation*}
				R^\scrA \subset A^m
			\end{equation*}
		\end{itemize}
	\item Eine Einbettung $F$ von $\scrA$ nach $\scrB$ ist eine \underline{injektive} Abbildung $F: A \longrightarrow B$, welche mit den Interpretationen kompatibel\footnote{das bedeutet, dass Funktions- und Relationszeichen bei Hin- und R"uckrichtung erhalten bleiben} ist
	\item Ein Isomorphismus ist eine surjektive Einbettung.
	\item $\scrA$ ist eine Unterstruktur von $\scrB$, falls $A \subset B$ und die Inklusion $\iota : A \longrightarrow B$ eine Einbettung bestimmt
	\end{itemize}
\end{definition}

\begin{remark}
	Sei $\scrB$ eine $\scrL$-Struktur, $\emptyset \ne A \subset B$. Dann gibt es eine Unterstruktur von $\scrB$, welche von A erzeugt wird.
	
	Das Universum besteht aus $A$ zusammen mit dem Abschluss von $A$ unter allen Interpretationen der Funktionszeichen von $\scrL$.
\end{remark}

\begin{definition}
	Sei $(I, <)$ eine partielle Ordnung. Die Ordnung ist \underline{gerichtet}, falls f"ur $i, j \in I$ gibt es $k \in I$ mit $i \leq k$ und $j \leq k$.
\end{definition}

\begin{remark}
	Sei $(\scrA_i)_{i \in I}$ eine Familie von $\scrL$-Strukturen indexiert nach der gerichteten partiellen Ordnung $I$ derart, dass f"ur $i \leq j$ gilt: $\scrA_i \underset{US}{\subset} \scrA_j$.
	
	Die Menge $A=\underset{i \in I}{\bigcup} A_i$ ist das Universum einer (eindeutig bestimmten) $\scrL$-Struktur
	\begin{equation}
		\scrA = \underset{i \in I}{\bigcup} \scrA_i \label{1:str}
	\end{equation}
	
	Falls $I$ eine lineare Ordnung ist, dann ist $(\scrA_i)_{i \in I}$ eine \underline{Kette}.
	
	\underline{Zu \ref{1:str}:} \begin{itemize}
		\item $c^\scrA=c^{\scrA_i}$ f"ur ein (alle) $i \in I$, denn $c^{\scrA_i}=c^{\scrA_j}=c^{\scrA_k}$, {wegen gerichteter Ordnung}
		\item $a_1, \dots a_n \in A = \underset{i \in I}{\bigcup} A_i \Longrightarrow \exists i \in I$ mit $a_1, \dots, a_n \in A_i$.
		Also ist $f^\scrA (a_1, \dots, a_n) = f^{\scrA_i} (a_1, \dots, a_n)$ wohldefiniert.
		\item $(a_1, \dots, a_m) \in R^\scrA$ genau dann, wenn es ein $i \in I$ gibt mit $a_1, \dots, a_m \in A_i$ und $(a_1, \dots, a_m) \in R^{\scrA_i}$
	\end{itemize}

	\underline{Beachte}, dass $\scrA_i \underset{US}{\subset} \scrA$ f"ur alle $i \in I$.
\end{remark}

\begin{definition}
	Eine atomare Formel ist ein Ausdruck der Form $(t_1 \dot= t_2)$, $t_1, \dots, t_k$ Terme, $R(t_1, \dots, t_k)$.
	
	Die Kollektion von Formeln ist die kleinste Klasse, welche alle atomaren Formeln enth"alt und derart, dass:
	\begin{align*}
		\varphi \text{ Formel} &\Longrightarrow \lnot \varphi \text{ Formel}\\
		\varphi, \psi \text{ Formel} &\Longrightarrow (\varphi \lor \psi) \text{ Formel}\\
		\varphi \text{ Formel}, x \text{ Variable} &\Longrightarrow \exists x \varphi \text{ Formel, ($x$ hei"st dann "`gebunden"')}
	\end{align*}
	
	\underline{Abk.:} \begin{align*}
		&(\varphi \land \psi) &&= \lnot(\lnot\varphi\lor\lnot\psi)\\
		&\forall x \varphi &&= \lnot \exists x \lnot \varphi\\
		&(\varphi \rightarrow \psi) &&= (\lnot \varphi \lor \psi)\\
		&(\varphi \leftrightarrow \psi) &&= ((\varphi \rightarrow \psi) \land (\psi \rightarrow \varphi))
	\end{align*}
\end{definition}

\begin{remark}
	
	\begin{itemize}
		\item Jede Formel $\varphi [x_1, \dots, x_n]$ l"asst sich in \underline{pr"anexer Normalform} umschreiben:	
		$Q_1 y_1 Q_2 y_2 \dots Q_m y_m \psi [x_1, \dots, x_n, y_1, \dots, y_m]$, mit $Q_i \in \{\forall, \exists\}$. Das ist eine quantorfreie Formel, diese l"asst sich weiter zerlegen in KNF bzw. DNF.
		\item Eine Formel ohne freie Variablen ist eine Aussage
		\item Eine Theorie ist eine Kollektion von Aussagen
	\end{itemize}
\end{remark}

\begin{example}
	Sei $\scrA$ eine $\scrL$-Struktur. Erweitere die Sprache zu der Sprache $\scrL_A = \scrL \cup \{d_a\}_{a \in A}.$
	
	$\scrA$ ist eine $\scrL_A$-Struktur, $d_a^\scrA = a$.
	\begin{itemize}
		\item $\atdig(\scrA) = \{$quantorenfreie $\scrL_A$-Aussagen $\chi$ mit $\scrA \models \chi\}$ hei"st "`atomares Diagramm"'
		\item $\vdig (\scrA) = \{\scrL$-Aussagen $\theta$ mit $\scrA \models \theta\}$ hei"st "`vollst"andiges Diagramm"'
	\end{itemize}
	Sei nun $\scrB$ eine $\scrL_A$-Struktur.
	\begin{align*}
		\scrB \models \atdig(\scrA) \Leftrightarrow &\scrA \hookrightarrow \scrB \text{ einbetten l"asst}\\
		&A \longrightarrow B\\
		&a \mapsto d_a^\scrB\\
		\scrB \models \vdig(\scrA) \Leftrightarrow &\text{ die obige Abbildung ist \underline{elementar}}\\
		\scrA \models \varphi[a_1, \dots, a_n] \Leftrightarrow &\scrB \models \varphi [F(a_1), \dots, F(a_n)], a_1, \dots a_n \in A, \varphi[x_1, \dots, x_n] \text{ Formel}
	\end{align*}
\end{example}

\begin{definition}
	\begin{itemize}
		\item $T$ ist konsistent, falls $T$ ein Modell besitzt.
		\item $T$ ist vollst"andig, falls  $T$ konsistent ist und je zwei Modelle von $T$ elementar "aquivalent sind.
	\end{itemize}
\end{definition}

\begin{theorem}[Kompaktheitssatz]\label{satz:kompakt}
	Eine Theorie ist genau dann konsistent, wenn sie \underline{endlich konsistent}\footnote{endlich konsistent bedeutet: jede endliche Teilmenge der Theorie besitzt ein Modell.} ist.
\end{theorem}

\underline{Wie zeigen wir, dass $\scrA \equiv \scrB$?}
\begin{theorem}[Back \& Forth]
	$S = \{F: \underset{\underset{US}{\subset} \scrA}{\scrC} \longrightarrow \underset{\underset{US}{\subset} \scrB}{\scrD}, F$ partieller Isomorphismus zwischen $\scrC$ und $\scrD$ geeignet\footnote{bspw. endlich erzeugt}$\}$.
	
	\underline{Back:} F"ur alle $F \in S$ und $b \in B$, $F:\scrC \longrightarrow \scrD$ gibt es $G \in S$ mit $G \supset F$ Erweiterung und $b \in \im (G)$.
	
	\underline{Forth:} F"ur alle $F \in S$ und $a \in A$, $F: \scrC \longrightarrow \scrD$ gibt es $H \in S$, mit $H \supset F$ Erweiterung mit $a \in \dom (H)$
	
	$\scrA$ und $\scrB$ hei"sen dann "`Back \& Forth "aquivalent"'
	
	$\rightarrow$ ist jedes $F \in S$ \underline{elementar}, so gilt insbesondere $\scrA \equiv \scrB$.
\end{theorem}

%Sitzung 2
\part{Theorien und Quantorenelimination}
\section{Tarskis Test}
\begin{lemma}[Tarskis Test]
	Sei $\scrB$ eine $\scrL$-Struktur und $A \subset B$ Teilmenge derart, dass f"ur jede $\scrL$-Formel $\varphi[x_1, \dots, x_n]$ und Elemente $a_1, \dots, a_n \in A$:\\
	\underline{falls}:
	\begin{equation}\label{tarski:bed}
		\scrB \models \varphi [a_1, \dots, a_n, b] \text{ f"ur ein } b \in B \Rightarrow \text{ existiert } a \in A \text{ sodass }\scrB \models \varphi[a_1, \dots, a_n, a]
	\end{equation}
	\underline{dann} ist $A$ das Universum einer elementaren Unterstruktur von $\scrB$.
	
	Insbesondere: Falls $\scrA \subset \scrB$ Unterstruktur, ist $\scrA \preceq \scrB \Leftrightarrow A$ erf"ullt \ref{tarski:bed}.
\end{lemma}
\begin{proof}
	\underline{Betrachte} $A \neq \emptyset \rightarrow$ Betrachte $\varphi[y] = (y \dot= y)$. $B \neq \emptyset \rightarrow \exists b \in B$ mit $\scrB \models \varphi[b]$. $\hookrightarrow \exists a \in A$ mit $\scrB \models \varphi[a]$
	
	\underline{Beh.:} F"ur jedes Konstantenzeichen $c \in \scrL$ ist $c^\scrB \in A$. $\hookrightarrow \varphi[y] = (y \dot= c)$, $\scrB \models \varphi[c^\scrB] \Rightarrow$ es gibt $a \in A$ mit $a=c^\scrB$.
	
	\underline{Beh.:} $A$ ist unter den Funktionen $f^\scrB$ abgeschlossen, f"ur jedes Funktionszeichen $f \in \scrL$.
	
	Sei $\varphi[x_1, \dots, x_n, y] = (y \dot= f(x_1, \dots, x_n))$ $\checkmark$
	
	F"ur $R \in \scrL$ $m$-stellig setze $R^\scrA = A^m \cap R^\scrB$ $\longrightarrow$ somit bildet $A$ eine $\scrL$-Unterstruktur $\scrA$ von $\scrB$.
	
	Noch zu zeigen: $\scrA \preceq \scrB$, d. h. $\varphi[x_1, \dots, x_n]$ $\scrL$-Formel.
	
	Seien dazu $a_1, \dots, a_n \in A$.
	\begin{equation}\label{tarksi:bew}
		\scrA \models \varphi[a_1, \dots, a_n] \Leftrightarrow \scrB \models \varphi[a_1, \dots,a_n]
	\end{equation}
	
	Induktiv "uber den Aufbau von $\varphi$.
	
	$\varphi$ ist atomar $\longrightarrow$ $\checkmark$
	\begin{align*}
		\scrA &\not\models \psi[a_1, \dots, a_n] \Leftrightarrow &\scrB &\not\models \psi[a_1, \dots, a_n]\\
		&\Updownarrow &&\Updownarrow\\
		\scrA &\models \varphi[a1, \dots, a_n] &\scrB &\models \phi[a_1, \dots, a_n]
	\end{align*}
	
	$\varphi= \lnot \psi \longrightarrow$ $\checkmark$
	
	$\varphi = (\psi_1 \lor \psi_2) \longrightarrow \checkmark$
	
	$\varphi = \exists y \psi[x_1, \dots, x_n, y]$: $\scrA \models \varphi[a_1, \dots, a_n] \Rightarrow$ es gibt ein $a \in A$ sodass $\scrA \models \psi[a_1, \dots, a_n, a]\\ {\underset{\ref{tarksi:bew}}{\Rightarrow} \scrB \models \psi[a_1, \dots, a_n, a]} \text{ f"ur ein } a \in A \subset B \Rightarrow \scrB \models \varphi[a_1, \dots, a_n]$
	
	$\scrB \models \varphi[a_1, \dots, a_n] \Rightarrow$ es gibt $b \in B$ mit $\scrB \models \psi[a_1, \dots, a_n, b] \underset{\ref{tarski:bed}}{\Rightarrow}$ es gibt ein $a \in A$ mit $\scrB \models \psi[a_1, \dots, a_n, a] \underset{\ref{tarksi:bew}}{\Rightarrow} \scrA \models \psi[a_1, \dots, a_n, a] \Rightarrow \scrA \models \varphi[a_1, \dots, a_n]$.
	
	\underline{F"ur "`insbesondere"':} Angenommen, dass $\scrA \preceq \scrB$. Sei $\varphi[x_1, \dots, x_n, y]$ eine $\scrL$-Formel, $a_1, \dots, a_n \in A$. Dann: $\scrB \models \varphi[a_1, \dots, a_n, b]$ f"ur ein $b \in B$ $\Rightarrow \scrB \models (\exists y \varphi)[a_1, \dots, a_n] \\
	\underset{\scrA \preceq \scrB}{\Rightarrow} \scrA \models (\exists y \varphi)[a_1, \dots, a_n] \Rightarrow$ es gibt ein $a \in A$ mit $\scrA \models \varphi[a_1, \dots, a_n, a] {\underset{\scrA \preceq \scrB}{\Rightarrow} \scrB \models \varphi[a_1, \dots, a_n, a]} \checkmark$
\end{proof}

\begin{proposition}[aufw"arts L"owenheim-Skolem]
	Sei $\scrA$ eine unendliche $\scrL$-Struktur, und $\kappa < \max\{|A|,|\scrL|\}$. Dann gibt es eine elementare $\scrL$-Erweiterung $\scrB \geq \scrA$ der M"achtigkeit $\kappa$.
\end{proposition}
\begin{proof}
	$\vdig(\scrA) \cup \{\lnot(c_\alpha \dot= c_\beta)\}_{\alpha \neq \beta < \kappa}$, wobei $\{c_\alpha\}_{\alpha<\kappa}$ eine Menge neuer Konstantenzeichen ist, ist konsistent weil sie endlich konsistent\footnote{Kompaktheit} ist.
	
	Aus der Konstruktion von Henkin hat $\vdig(\scrA) \cup \{\lnot(c_\alpha \dot= c_\beta)\}_{\alpha \neq \beta < \kappa}$ ein Modell der M"achtigkeit der Sprache.
	
	$\rightarrow$ ein Modell der \underline{M"achtigkeit $\kappa$}
\end{proof}

\begin{remark}
	$|A| = n \in \setN$, $\scrB \succeq \scrA \Rightarrow |B| = n$
\end{remark}

\begin{proposition}[abw"arts L"owenheim-Skolem]\label{Low:ab}
	Sei $\scrB$ eine $\scrL$-Struktur und $S \subset B$ beliebig. Dann gibt es eine elementare Unterstruktur $\scrA \preceq \scrB$ mit $A \supset S$ und $|A|\leq \max\{|S|,|\scrL|,\aleph_0\}$.
\end{proposition}

\begin{remark}
	$\setC$ in der Ringsprache $\scrL_\text{Ring}$, $S=\emptyset \Rightarrow$ es gibt eine abz"ahlbare elementare Unterstruktur von $\setC$. $\rightarrow \overline{\setQ} \preceq \setC$.
\end{remark}

\begin{proof}[Beweis \ref{Low:ab}]
	Setze $S_0 = S$. Angenommen $S_k$ wurde bereits konstruiert, w"ahle f"ur jedes $n \in \setN$, jede $\scrL$-Formel $\varphi[x_1, \dots, x_n, y]$ und Elemente $a_1, \dots, a_n \in S_k$ ein Element $a_{\varphi[a_1, \dots, a_n, y]} \in B$ derart, dass $\scrB \models ((\exists y \in \varphi)[a_1, \dots, a_n] \rightarrow \varphi[a_1, \dots, a_n, a_{\varphi[a_1, \dots, a_n, y]}])$. Setze $S_{k+1} = S_k \cup \{a_\varphi\}_{\varphi \scrL \text{-Formel, }(a_1, \dots, a_n)\in S_k}$
	
	Definiere $A = \underset{k \in \setN}{\bigcup} S_k \supset S$. Wir "uberpr"ufen, dass $A$ den Test von Tarski erf"ullt. Sei $\varphi = \varphi[x_1, \dots, x_n, y]$ eine $\scrL$-Formel, $a_1, \dots, a_n \in A$.
	
	$\scrB \models \varphi[a_1, \dots, a_n, b]$ f"ur ein $b \in B \Rightarrow$ es gibt ein $k \in \setN$ mit $a_1, \dots a_n \in S_k \Rightarrow$ es gibt ein $a_{\varphi[a_1, \dots, a_n, y]} \in S_{k+1} \subset A$ mit $\scrB \models \varphi[a_1, \dots, a_n, a] \checkmark$
	
	Ferner ist $|A| \leq \max \{\aleph_0, |\scrL|, |S|\}$.
\end{proof}

\begin{corollary}
	Sei $(\scrA_i)_{i \in I}$ eine gerichtete Familie von $\scrL$-Strukturen, sodass f"ur $i \leq j$ ist $\scrA_i \preceq \scrA_j$. Dann ist $\scrA = \underset{i \in I}{\bigcup} \scrA_i$ eine elementare Erweiterung jeder $\scrA_i$.
\end{corollary}
\begin{proof}
	Wir beweisen induktiv "uber den Aufbau von $\varphi=\varphi[x_1, \dots, x_n]$, dass f"ur alle $i \in I$, f"ur alle $a_1, \dots, a_n \in A_i$: $\scrA_i \models \varphi[a_1, \dots, a_n] \Leftrightarrow \scrA \models \varphi[a_1, \dots, a_n]$.
	
	$\varphi$ atomar $\rightarrow$ klar, denn $\scrA_i \underset{US}{\subset} \scrA$
	
	$\varphi = \lnot \varphi \Rightarrow$ ok!
	
	$\varphi = (\varphi_1 \lor \varphi_2) \Rightarrow$ ok!
	
	$\varphi = \exists y \psi[x_1, \dots, x_n, y]$: $\scrA_i\models \varphi[a_1, \dots, a_n] \Rightarrow$ es gibt ein $a \in A_i$ mit $\scrA_i\models \psi[a_1, \dots,a_n, a] \\
	\underset{\text{ind. "uber }\psi}{\Rightarrow} \scrA \models \psi[a_1, \dots, a_n, a] \Rightarrow \scrA \models \varphi[a_1, \dots, a_n]$
	
	$\scrA \models \varphi[a_1, \dots, a_n] \Rightarrow$ es gibt ein $b \in A = \underset{i \in I}{\bigcup} A_i$ mit $\scrA \models \psi[a_1, \dots, a_n, b] \Rightarrow$ es gibt $j \in I$ mit $b \in A_j \Rightarrow$ es existiert $k \in I$ mit $i \leq k$, $j \leq k$, $a_1, \dots, a_n, b \in A_k \\
	\Rightarrow \scrA_k \models \psi[a_1, \dots, a_n, b] \underset{\scrA_i \preceq \scrA_k}{\Rightarrow}$ es gibt ein $a \in A_k$ mit $\scrA_i \models \psi[a_1, \dots, a_n, a] \Rightarrow {\scrA_i \models \varphi[a_1, \dots, a_n]}$.
\end{proof}

\section{Quantorenelimination}
\begin{definition}
	Eine Theorie $T$ hat Quantorenelimination, falls jede $\scrL$-Formel $\varphi[x_1, \dots, x_n]$ "aquivalent modulo $T$ zu einer quantorenfreien $\scrL$-Formel $\psi[x_1, \dots, x_n]$ ist.
	\begin{equation*}
		T \models \forall x_1 \dots \forall x_n (\varphi[x_1, \dots, x_n] \leftrightarrow \psi[x_1, \dots, x_n])
	\end{equation*}
\end{definition}

\begin{example}
	Sei $\scrL \coloneqq (\setR, 0, 1, +, -, \cdot)$ gegeben. Betrachte die Menge $\{(a,b,c) \in \setR^3 | a \neq 0$ und es gibt $x \in \setR$ mit $ax^2+bx+c=0\} = \{(a,b,c) \in \setR^3 | a \neq 0$ und $b^2-4ac \geq 0\}$.
	
	Diese Formel ist in $\scrL$ nicht "aquivalent zu einer quantorenfreien Formel, in ${\scrL_1 \coloneqq (\setR, 0, 1, +, -, \cdot, <)}$ hingegen doch. Somit ist die Menge in $\scrL_1$ quantorenfrei.
\end{example}

%Sitzung 3
\begin{remark}
	\begin{itemize}
		\item Wenn $T$ inkonsistent ist, dann hat $T$ immer Quantorenelimination
		\item Wenn $T$ Quantorenelimination hat, und $\scrA , \scrB \models T$ mit $\scrA \underset{\text{US}}{\subset} \scrB \Rightarrow \scrA \preceq \scrB$ \marginpar{"Ubung}
	\end{itemize}
\end{remark}

\begin{definition}
	\begin{itemize}
		\item Eine einfache Existenzformel ist eine Formel der Form $\varphi[x_1, \dots, x_n]=\exists y \psi[x_1, \dots, x_n, y]$
		\item Eine primitive Existenzformel ist eine Formel der Form $\varphi[x_1, \dots, x_n]=\psi[x_1, \dots, x_n,y]$, wobei $\psi$ eine endliche Konjunktion von atomaren Formeln und Negationen ist
	\end{itemize}
\end{definition}

\begin{lemma}
	Eine (konsistente) Theorie T hat genau dann Quantorenelimination, wenn jede primitive Existenzformel zu einer quantorenfreien Formel "aquivalent modulo T ist.
\end{lemma}
\begin{proof}
	"`$\Rightarrow$"': klar
	
	"`$\Leftarrow$"': Beachte, $\exists y (\psi_1 \lor \psi_2) \leftrightarrow (\exists y \psi_1 \lor \exists y \psi_2)$. Insbesondere, wenn $T$ Quantorenelimination f"ur primitive Existenzformeln hat, dann hat T Quantorenelimination f"ur einfache Existenzformeln.
	\begin{equation*}
		\underset{\text{einfache Existenzformel}}{\varphi} = \exists y \underbrace{\psi[x_1, \dots, x_n]}_{\text{umschreiben in DNF}} \sim \exists y (\psi_1 \lor \dots \lor \psi_n) \sim \underbrace{\bigvee\limits^n_{i=1} \exists y \psi_i}_{\text{primitive Existenzformel}}
	\end{equation*}
	
	Zu zeigen: Jede beliebige Formel $\varphi[x_1, \dots, x_n]$ ist "aquivalent zu einer quantorenfreien Formel modulo $T$.
	\begin{equation*}
		\varphi[x_1, \dots, x_n] \underbrace{\sim}_{\substack{\text{pr"anexe}\\ \text{Normalform}}} Q_1 y_1 \dots Q_m y_m \underbrace{\psi[x_1, \dots, x_n, y_1, \dots, y_m]}_{\text{quantorenfrei}}, \text{ wobei }Q_i \in \{\forall, \exists\}
	\end{equation*}
	
	Induktion "uber $m$:
	\begin{itemize}
		\item[$m=0$:] $\checkmark$
		\item[$m=1$:] $\varphi = Q \underbrace{\psi[x_1, \dots, x_n, y]}_{\text{quantorenfrei}}$
		\begin{itemize}
			\item[$Q=\exists$] $\varphi$ einfache Existenzformel $\checkmark$
			\item[$Q=\forall$] $\varphi \sim \lnot \underbrace{\exists y \lnot \psi}_{\substack{\text{einfache}\\\text{Existenzformel }} \rightarrow \text{ eliminieren }\rightarrow \checkmark}$
		\end{itemize}
		\item[$m-1\rightarrow m$:] $\varphi[x_1, \dots, x_n]=Q_1 y_1 Q_2 y_2 \dots \underbrace{Q_m y_m \psi[x_1, \dots, x_n, y_1, \dots, y_m]}_{\varphi' [x_1, \dots, x_n, y_1, \dots, y_{m-1}]}$. $\varphi'$ ist eine einfache Existenzformel, wir eliminieren also:
		
		$\underbrace{\hfil}_{m-1 \text{ viele Quantoren}} \underbrace{\Theta[x_1, \dots, x_n, y_1, \dots, y_{m-1}]}_{\text{quantorenfrei}}$
		
		$\Rightarrow$ Induktion
	\end{itemize}

\end{proof}

\begin{example}
	Sei $\mathcal{K} = \{\text{unendliche Mengen}\}$. Diese Klasse l"asst sich definieren durch die Theorie \marginpar{$\exists^\infty x$}$T=\{\exists x_1 \dots \exists x_n(\bigwedge\limits^n_{i \neq j =1}\lnot(x_i \dot= x_j))\}_{n \in \setN}$.
	Diese Theorie ist vollst"andig!
	Betrachte jetzt die definierbaren Mengen:
	\begin{equation*}
		\{b \in A | \scrA \models \underbrace{\underbrace{\varphi}_{\text{quantorenfrei}}[b, a_1, \dots, a_m]}_{\underset{\text{endlich oder koendlich}}{\updownarrow}} \}
	\end{equation*}
\end{example}

\begin{lemma}[Trennungslemma]
	Seien $T_1$ und $T_2$ zwei $\scrL$-Theorien, und $\Delta$ eine Kollektion von $\scrL$-Aussagen, welche unter endlichen Konjunktionen und Disjunktionen abgeschlossen ist. Folgende Eigenschaften sind "aquivalent:
	\begin{enumerate}
		\item Es gibt eine Aussage $\chi \in \Delta$ mit $T_1 \models \chi$
		\item F"ur alle $\scrA \models T_1$, $\scrB \models T_2$ gibt es eine Aussage $\chi \in \Delta$ mit $ \scrA \models \chi, \scrB \models \lnot \chi$
	\end{enumerate}
\end{lemma}

\begin{remark}
	Das ganze ist trivial f"ur inkonsistente Theorien.
\end{remark}

\begin{proof}
	\underline{$1\Rightarrow2$:} trivial!
	
	\underline{$2 \Rightarrow 1$:} OBdA $T_1, T_2$ konsistent. Sei $\scrA \models T_1$, setze ${\Sigma_\scrA =\{\chi, \chi \text{ Aussagen in } \Delta\text{ mit } \scrA \models \chi \}}$. 
	
	Betrachte jetzt $T_2 \cup \Sigma_\scrA$. Ist diese Theorie konsistent? Nein: W"are $\scrB \models T_2 \cup \Sigma_\scrA \hookrightarrow$ es gibt $\chi \in \Delta$ mit $\scrA \models \chi, \scrB \models \lnot \chi \Rightarrow \chi \in \Sigma_\scrA \Rightarrow \scrB \models \chi$. Widerspruch!
	
	Das bedeutet (wegen Kompaktheit), dass es $\chi_1, \dots, \chi_r \in \Sigma_\scrA$ gibt mit $T_2 \cup \{\chi_1, \dots, \chi_r\}$ inkonsistent.
	\begin{equation*}
		\hookrightarrow T_2 \models \bigvee\limits_{i=1}^{r} \lnot \chi_i \Rightarrow T_2 \models \lnot (\underbrace{\bigwedge\limits_{i=1}^{r} \chi_i}_{=\chi_\scrA \in \Delta })
	\end{equation*}
	Das hei"st f"ur jedes $\scrA \models T_1$ gibt es $\chi_\scrA \in \Delta$ mit $T_2 \models \lnot \chi_\scrA$ und $\scrA \models \chi_\scrA$.
	
	Sei nun $T_1 \cup \{\lnot \chi_\scrA \}_{\scrA \models T_1}$.\footnote{Ist das "uberhaupt eine Menge? Es gen"ugt die Einschr"ankung bis auf Isomorphie, das sollte reichen\dots} $\hookrightarrow$ inkonsistent nach Konstruktion.
	
	$\underset{\text{Kompaktheit}}{\Rightarrow}$ es existieren $\chi_{\scrA_1}, \dots \chi_{\scrA_n}$ mit $T_1 \cup \{\lnot \chi_{\scrA_1}, \dots, \chi_{\scrA_n} \}$ inkonsistent. Also:\\ 
	$T_1 \models \bigvee\limits_{j=1}^n \chi_{\scrA_j} \eqqcolon \chi \in \Delta$
	
	$T_1 \models \chi$. Wollen zeigen: $T_2 \models \lnot \chi$. Aber $T_2 \models \lnot \chi_{\scrA_i}, 1 \leq i \leq n$.
\end{proof}

\begin{corollary}
	Zwei Theorien $T_1$ und $T_2$ werden von einer quantorenfreien Aussage getrennt, wenn je zwei Modelle $\scrA \models T_1$ und $\scrB \models T_2$ von einer quantorenfreien Aussage getrennt werden.
	\begin{equation*}
		\rightarrow \exists\chi \text{ quantorenfrei }: \scrA \models \chi \text{ und } \scrB \models \lnot \chi
	\end{equation*}
\end{corollary}


%Sitzung 4
\begin{theorem}
	Sei $T$ eine Theorie. Folgende Aussagen sind "aquivalent:
	\begin{enumerate}
		\item $T$ hat Quantorenelimination. \label{beh:1}
		\item \label{beh:2}Gegeben Modelle $\scrA, \scrB \models T$ und endlich erzeugte Unterstrukturen $\langle c_1, \dots, c_n \rangle_\scrA = \scrC \subset \scrA$, $\langle d_1, \dots, d_n \rangle_\scrB = \scrD \subset \scrB$, wobei $\scrC \simeq \scrD$ und $\varphi[x_1, \dots, x_n]$ eine Formel. Dann gilt:
		\begin{equation*}
			\scrA \models \varphi[c_1, \dots, c_n] \Rightarrow\footnote{Durch vertauschen von $\scrA$ und $\scrB$ gilt hier sogar $\Leftrightarrow$.} \scrB \models \varphi[d_1, \dots, d_n]
		\end{equation*}
		\item \label{beh:3} Gegeben Modelle $\scrA, \scrB$ mit isomorph erzeugten Unterstrukturen $\langle c_1, \dots, c_n \rangle_\scrA = \scrC \simeq \scrD = \langle d_1, \dots, d_n \rangle_\scrB$ wie in \ref{beh:2} und f"ur alle $\varphi[x_1, \dots, x_n]$ primitive Existenzformel, gilt:
		\begin{equation*}
			\scrA \models \varphi[c_1, \dots, c_n] \Rightarrow \scrB \models \varphi[d_1, \dots, d_n]
		\end{equation*}
	\end{enumerate}
	Ferner, falls $T$ konsistent ist, \ref{beh:1} gilt und je zwei Modelle von $T$ isomorphe endlich erzeugte Unterstrukturen besitzen, dann ist $T$ vollst"andig mit Quantorenelimination.
\end{theorem}

\begin{remark}
	Wie benutzen wir diesen Satz? %TODO Grafik erstellen!
	Letztlich wollen wir Back-\&-Forth-"Aquivalenz zeigen.
\end{remark}

\begin{proof}
	\underline{$\ref{beh:1}\Rightarrow\ref{beh:2}$:} Sei $\varphi[x_1, \dots, x_n]$. T hat Quantorenelimination $\longleftarrow$ es gibt $\psi[x_1, \dots, x_n]$ quantorenfrei mit: $T \models \forall \vec{x} (\varphi[\vec{x}] \leftrightarrow \psi[\vec{x}])$
	\begin{align*}
		&&\scrA \models \varphi[c_1, \dots, c_n]\\
		&\underset{\scrA \models T}{\Leftrightarrow} &\scrA \models \psi[c_1, \dots, c_n]\\
		&\underset{\psi \text{ quantorenfrei}}{\Leftrightarrow} &\scrC \models \psi[c_1, \dots, c_n]\\
		&\underset{\scrC \simeq \scrD}{\Leftrightarrow} &\scrD \models \psi[d_1, \dots, d_n]\\
		&\Leftrightarrow &\scrB \models \psi[d_1, \dots, d_n]\\
		&\underset{\scrB \models T}{\Leftrightarrow} &\scrB \models \varphi[d_1, \dots, d_n]
	\end{align*}
	
	\underline{$\ref{beh:2} \Rightarrow \ref{beh:3}$:} klar.
	
	\underline{$\ref{beh:3} \Rightarrow \ref{beh:1}$:} Um zu zeigen, dass $T$ Quantorenelimination besitzt, gen"ugt es nur primitive Existenzformeln $\varphi[x_1, \dots, x_n]$ zu betrachten. 
	
	Seien dazu $e_1, \dots, e_n$ neue Konstantenzeichen. Betrachte die Sprache $\scrL \cup \{e_1, \dots, e_n \}$, sowie die Theorien $T_1 = T \cup \{\varphi[e_1, \dots, e_n] \}$ und $T_2 = T \cup \{\lnot \varphi[e_1, \dots, e_n]\}$.
	
	Falls $T_1$ und $T_2$ durch eine quantorenfreie Aussage $\underbrace{\psi[e_1, \dots, e_n]}_{\substack{\text{quantorenfreie}\\ \scrL \text{-Formel}}}$ in $\scrL \cup \{e_1, \dots, e_n \}$ trennbar sind, so folgt:
	\begin{align*}
		&T \cup \{\varphi[\vec{e}] \} \models \psi[\vec{e}] &\Rightarrow T &\models (\varphi[\vec{e}] \rightarrow \psi[\vec{e}])\\
		&T \cup \{\lnot\varphi[\vec{e}] \} \models \lnot\psi[\vec{e}] &\Rightarrow T &\models (\lnot\varphi[\vec{e}] \rightarrow \psi[\vec{e}])\\
		&\Rightarrow T = (\psi[\vec{e}] \rightarrow \varphi[\vec{e}]) &\underset{\text{Aufgabe\footnotemark}}{\Rightarrow} T &\models \forall \vec{x} (\varphi[\vec{x}] \leftrightarrow \underbrace{\psi[\vec{x}]}_{\text{quantorenfrei}})
	\end{align*}
	\footnotetext{weil $e_1, \dots, e_n$ \underline{neue} Konstantenzeichen sind}
	Sonst, falls also $T_1, T_2$ nicht trennbar sind, gibt es zwei Modelle $\scrA \models T_1 \cup \{\varphi[\vec{e}] \}, \scrB \models T \cup \{\lnot \varphi[\vec{e}] \}$, welche alle quantorenfreien Aussagen in $\scrL \cup \{e_1, \dots, e_n \}$ gleich erf"ullen.
	
	Seien $c_1=e^\scrA_i, d_i=e^\scrB_i$. Betrachte jetzt $\langle c_1, \dots, c_n \rangle_\scrA \underset{\scrL \text{-US}}{\subset} \scrA \mid_\scrL$ und $\langle d_1, \dots, d_n \rangle_\scrB \underset{US}{\subset} \scrB \mid_\scrL$. Es gilt: $\scrA \models \varphi[c_1, \dots, c_n]$ und $\scrB \models \lnot \varphi[d_1, \dots, d_n]$.
	
	Um einen Widerspruch zu bekommen gen"ugt es zu zeigen, dass $\scrC \simeq \scrD, c_i \mapsto d_i$.
	\begin{align*}
		C &\longrightarrow D:\\
		\underbrace{t^\scrA[c_1, \dots, c_n]}_{\scrL \text{-Term}} &\mapsto t^\scrB[d_1, \dots, d_n]
	\end{align*}
	\underline{Ist diese Abbildung wohldefiniert?}
	\begin{align*}
		\text{Angenommen } &t_1^\scrA[c_1, \dots, c_n] = t_2^\scrA[c_1, \dots, c_n]\\
		\Leftrightarrow &\underbrace{\scrA}_{\text{als } \scrL \cup \{e_1, \dots, e_n \} \text{-Struktur}} \models (\underbrace{t_1[e_1, \dots, e_n] \dot= t_2[e_1, \dots, e_n]}_{\text{quantorenfreie Aussage}})\\
		\Leftrightarrow &\scrB \models (t_1[\vec{e}] \dot= t_2[\vec{e}])\\
		\Leftrightarrow &t_1^\scrB[d_1, \dots, d_n] = t_2^\scrB[d_1, \dots, d_n]\\
		\longrightarrow &\text{ wohldefiniert und injektiv}
	\end{align*}
	induktiv "uber den Aufbau zeigen wir: Das ist ein Isomorphismus.
	
	\underline{Zu "`ferner"':} Angenommen $T$ hat Quantorenelimination, ist konsistent und je zwei Modelle $\scrA, \scrB \models T$ haben isomorphe, endlich erzeugte Unterstrukturen
	\begin{equation*}
		\underset{c_i \mapsto d_i}{\langle c_1, \dots, c_n \rangle_\scrA = \overset{\subset \scrA}{\scrC} \simeq \overset{\subset \scrB}{\scrD} = \langle d_1, \dots, d_n \rangle_\scrB}
	\end{equation*}
	$T$ ist vollst"andig $\Leftrightarrow \scrA \equiv \scrB$.
	Sei $\chi$ eine $\scrL$-Aussage und schreibe $\chi = \chi[x_1, \dots, x_n]$.
	\begin{equation*}
		\scrA \models \chi \Leftrightarrow \scrA \models \chi[c_1, \dots, c_n] \underset{\ref{beh:2}}{\Leftrightarrow} \scrB \models \chi[d_1, \dots, d_n] \Leftrightarrow \scrB \models \chi
	\end{equation*}
\end{proof}

\section{Beispiele klassischer Theorien}
\begin{example}
	$T=\exists^\infty$ hat Quantorenelimination und ist vollst"andig.
\end{example}

\begin{example}[$\dlo$]
		$\dlo$ (dichte lineare Ordnung ohne Randpunkte). Sei $\scrL = \{<\}$.
	\begin{align*}
		\dlo = &\{\forall x (\lnot x<x) \}\\
		&\cup \{\forall x \forall y \forall z ((x<y \land y<z) \rightarrow (x<z)) \}\\
		&\cup \{\forall x \forall y ((x=y)\lor(x<y)\lor(y<x)) \}\\
		&\cup \{\forall x \forall y \exists z ((x<y)\rightarrow(x<z<y)) \}\\
		&\cup \{\forall x \exists u \exists v (u<x<v) \}\\
		&\cup \{\exists x (x=x) \}
	\end{align*}
	Diese Theorie ist vollst"andig und hat Quantorenelimination.
	Es gibt zwei Methoden, um Quantorenelimination zu zeigen:
	\begin{enumerate}
		\item
		\begin{align*}
			&\varphi[x_1, \dots,x_n] &= \exists y (\bigwedge\limits_i \overbrace{\Theta_i[x_1, \dots,x_n, y]}^{\substack{\text{atomar oder} \\ \text{Negation davon}}})\\
			&&= \exists y (\psi_1[x_1, \dots, x_n] \land \bigwedge\limits_i \substack{x_i = y \\ x_i \neq y \\ x_i < y \\ y < x_i})\\ \\
			&x_i=y \land x_j=y \Leftrightarrow x_i = x_j\\
			&x_i = y \land y<x_j \Leftrightarrow x_i < x_j &\longrightarrow \text{ induktiv lassen sich alle Quantoren eliminieren}
		\end{align*}
		\item Gegeben $\langle c_1, \dots, c_n \rangle_\scrA = \underset{\subset \scrA}{\scrC} \simeq \underset{\subset \scrB}{\scrD} = \langle d_1, \dots, d_n \rangle_\scrB$, mit $F: \scrC \rightarrow \scrD$ Isomorphismus und $\scrA, \scrB \models \dlo$.
		
		OBdA w"ahle $c_1<c_2<\dots<c_n \underset{F}{\mapsto} d_1<d_2<\dots<d_n$. $\longrightarrow F$ in Back-\&-Forth-System.
		\begin{align*}
			&\text{1. Fall: } &a< c_1 \rightarrow &\text{ w"ahle } b<d_1 \text{ in } \scrB \text{, weil } d_i \text{ kein Randpunkt ist.}\\
			&\text{2. Fall: } &a>c_n \rightarrow &\text{ w"ahle } b<c_n \text{ in } \scrB \text{, weil } d_i \text{ kein Randpunkt ist.}\\
			&\text{3. Fall: } &\exists i \mid c_i<a<c_{i+1} \rightarrow &\text{ w"ahle } b \text{ zwischen } d_i \text{ und } d_{i+1} \text{ weil } \scrB \text{ dicht ist.}
		\end{align*}
		
		Vollst"andigkeit folgt, weil Unterstruktur und Punkt zu Punkt.
	\end{enumerate}
\end{example}

%SITZUNG 5
\begin{example}[Vektorraum]
	Sei $K$ ein K"orper, $\scrL_\text{VR} = \{0, +, f_\lambda \}_{\lambda \in K}$. Dann ist die Theorie $\underset{\substack{\rotatebox{90}{$=$} \\ \text{ unendliche}\\ K\text{-VR}}}{T} = \{\Forall x \Forall y \Forall z \dots \} \dots$\footnote{diese Theorie ist axiomatisierbar, f"ur eine beispielhafte Axiomatisierung vergleiche Klausur zu mathematische Logik im SS 2019.} vollst"andig und hat Quantorenelimination.
	
	Wie zuvor gibt es zwei verschiedene Methoden, um Quantorenelimination zu zeigen:
	\begin{enumerate}
		\item Betrachte die folgende primitive Existenzformel: 
		\begin{equation*}
			\varphi[x_1, \dots, x_n] = \Exists y (\bigwedge\limits_{\text{endlich}} (\lambda_1 x_1 + \dots + \lambda_n x_n + \lambda_y \dot= 0) \land \bigwedge\limits_{\text{endlich}} \lnot (\mu_1 x_1 + \dots + \mu_n x_n \dot= 0)
		\end{equation*}
		Jetzt gibt es zwei M"oglichkeiten:
		\begin{enumerate}
			\item \emph{Alle $\lambda$ vor der Variable $y$ sind Null} $\rightarrow \underbrace{\bigwedge\limits_{\text{endlich}} \lambda x_1 + \dots + \lambda_n x_n = 0}_{\psi[x_1 \dots x_n]}$
			
			\item \emph{Es gibt ein $\lambda \neq 0$}. Dann gilt OBdA: $y \dot= \lambda_1 x_1 + \dots + \lambda_n x_n$. Ersetze jetzt jedes Vorkommen von y durch $\tilde{\lambda}_1 x_1 + \dots + \tilde{\lambda}_n x_n$. Erhalte eine quantorenfreie Bedingung in $x_1, \dots x_n$.
		\end{enumerate}
		
		\item (semantisch)
		
		\underline{Ansatz:} \begin{align*}
			&\setQ &&? &\setQ \oplus \setQ \\
			&\langle 2 \rangle &&\simeq &\langle (3,7) \rangle
		\end{align*}
		Wir brauchen also: $\scrA$ und $\scrB$ undendlichdimensional, um ein Back \& Forth-System zu konstruieren. Es sei dazu
		\begin{equation*}
			\tilde{\scrA} \succeq \scrA \supset \langle c_1, \dots, c_n \rangle \simeq \langle d_1, \dots , d_n \rangle \subset \scrB \preceq \tilde{\scrB}
		\end{equation*}
		f"ur $\tilde{\scrA}, \tilde{\scrB}$ undendlichdimensional.
		
		Insbesondere gilt jetzt auch: 
		\begin{equation*}
			\scrA \models \varphi[c_1, \dots, c_n] \Leftrightarrow \tilde{\scrA} \models \varphi[c_1, \dots, c_n]
		\end{equation*}
		
		Angenommen $\langle c_1, \dots, c_n \rangle \overset{F}{\longrightarrow} \langle d_1, \dots, d_n \rangle$ liegt in einem Back \& Forth-System zwischen $\tilde{\scrA}$ und $\tilde{\scrB}$. Dann folgt insbesondere auch:
		\begin{equation*}
			\tilde{\scrB} \models \varphi[d_1, \dots, d_n] \Leftrightarrow \scrB \models \varphi[d_1, \dots, d_n]
		\end{equation*}
		Es ergeben sich also die folgenden beiden Fragen:
		\begin{enumerate}
			\item \underline{Finden wir ein Back \& Forth-System zwischen $\tilde{\scrA}$ und $\tilde{\scrB}$?} 
			
			Angenommen also wir haben $\tilde{\scrA}$ und $\tilde{\scrB}$ bereits konstruiert. Zeige: Es gibt ein Back \& Forth-System.
			%TODO Grafik einf"ugen
			\begin{enumerate}
				\item[$c \in$ UR:] trivial.
				\item[$c \notin$ UR:] $\dim_K \tilde{\scrB} = \infty \geq n+1 \longrightarrow$ es gibt ein $d \notin \langle d_1, \dots, d_n \rangle \Rightarrow~G$ die Erweiterung \begin{align*}
					\langle c_1, \dots, c_n \rangle &\longrightarrow \langle d_1, \dots, d_n \rangle\\c_i &\longmapsto d_i\\c &\longmapsto d
				\end{align*}
			\end{enumerate}
		
			\item \underline{Zur Existenz von $\tilde{\scrA}, \tilde{\scrB}$:}
			
			So funktioniert es nicht: $\vdig(\scrA) \cup \{\Exists x \Exists y \lnot (\lambda x + \mu y \dot{+} 0)\}_{\substack{\lambda, \mu \in K\\(\lambda, \mu) \neq (0,0)}}$.
			
			Seien $(e_i)_{i \in \setN}$ neue Konstantenzeichen.
			\begin{equation*}
				\underbrace{\vdig(\scrA) \cup \{\lnot \sum_i \lambda_i e_i \dot=0\}_{\substack{(\lambda_1, \dots, \lambda_n) \in K^n \setminus \{(0, \dots, 0) \}\\n \in \setN}}}_\text{endlich konsistent}
			\end{equation*}
		\end{enumerate}
		Zur Vollst"andigkeit: Das endliche Erzeugnis zweier nicht-trivialer Vektoren ist isomorph, somit folgt Vollst"andigkeit.
	\end{enumerate}
\end{example}

\begin{example}[$\acf$]\label{acf:ex}
	Wir betrachten jetzt die Theorie algebraisch abgeschlossener K"orper (ACF) in der Ringsprache $\scrL_\text{Ring}=\{0, 1, +, -, \cdot \}$.
	\begin{equation*}
		\acf = \begin{cases}
		\text{K"orperaxiome}\\
		\{\Forall x_0 \Forall x_1 \dots \Forall x_{k-1} \Exists y (y^k + x_{k-1} y^{k-1} + \dots + x_1 y + x_0 \dot= 0) \}_{k \geq 1}
		\end{cases}
	\end{equation*}
	$\acf$ hat Quantorenelimination, ist aber nicht vollst"andig. Die Vervollst"andigungen sind $\underbrace{\acf_0}_{1+1+ \dots + 1 \dot= 0}$ und $\underbrace{\acf_p}_{\underbrace{1+\dots+1}_{p\text{-Mal}} \dot= 0}$ f"ur jede Primzahl $p$.
\end{example}

\begin{theorem}[Kurzeinf"uhrung Galois'sche Theorie]
	%TODO hier noch die Einf"uhrung abschreiben
\end{theorem}

\begin{proof}[Beweis \nameref{acf:ex}]
	Betrachte OBdA die Abbildung
	\begin{equation*}
		F = \quo (\langle c_1, \dots, c_n \rangle) \longrightarrow \quo (\langle d_1, \dots, d_n \rangle)
	\end{equation*}
	\underline{Fall 1:} $a$ ist algebraisch "uber $K$
	
	$\hookrightarrow$ sei $m_a(T)$ das Minimalpolynom von $a$ "uber $K$. $F(m_a)(T)$ ist ein normiertes Polynom "uber $\quo(\langle d_1, \dots, d_n \rangle) \subset B$.
	
	$B$ ist algebraisch abgeschlossen $\Rightarrow$ es gibt $b$ in $B$ mit $F(m_a)(b)=0 \overset{\text{Galoistheorie}}{\Longrightarrow} F$ l"asst sich erweitern. 
	
	\underline{Fall 2:} $a$ ist transzendent "uber $K = \quo (\langle c_1, \dots, c_n \rangle)$.
	
	Wenn wir ein $b \in B$ finden, welches transzendent "uber $\quo(\langle d_1, \dots, d_n \rangle)$ ist
	
	$\hookrightarrow \ring_A (K, a) \simeq \ring_B (F(K), b)$
	
	\underline{Ziel:} Wir brauchen $\scrA \preceq \tilde{\scrA}$ mit unendlich vielen Elementen, welche algebraisch unabh"angig sind.
	\begin{equation*}
		\underbrace{\vdig(A) \cup \{\lnot (B(e_1, \dots, e_n)\dot= 0) \}_{\substack{P \in A[T_1, \dots, T_n] \setminus \{0\}\\P(e_1, \dots e_n) \neq 0}}}_{\text{endlich konsistent}}
	\end{equation*}
\end{proof}


%Sitzung 6
\section{Ultrafilter \& der Satz von Ax}
\underline{Anwendung:} Wir wollen eine Aussage der folgenden Art bekommen: Sei $f: \substack{\setC \longrightarrow \setC \\z \longmapsto z^2}$.\\
$\rightarrow f$ ist surjektiv, aber nicht injektiv.
 
\begin{theorem}[Ax]\label{ax:thm}
	Sei $f: \underset{z \longmapsto z^2}{\setC^n \longrightarrow \setC^n}$ eine polynomiale\footnote{polynomial bedeutet, dass jede Koordinate der Abbildung durch Polynome gegeben ist.} injektive Abbildung. Dann ist $f$ surjektiv.
\end{theorem}

\underline{Motivation:} Sei $G$ eine Gruppe der Ordnung $p$. F"ur einen K"orper der Charakteristik $p$ bekommen wir dann:
\begin{align*}
	\underbrace{\setZ / p\setZ}_{\ni \bar{g}} \underset{\text{wirkt}}{\curvearrowright} \underbrace{K}_{\substack{\text{K"orper der}\\ \text{Charakteristik}\\p}} &\longrightarrow K\\
	x &\longmapsto \underbrace{1+ \cdots +1}_{g \text{-Mal}}+ x\\
	\rightarrow h+(g+x) = (h+g)+x
\end{align*}
F"ur einen K"orper der Charakteristik $0$:
\begin{align*}
	&\underbrace{\setZ/p \setZ}_{\ni \bar{k}} \underset{\text{wirkt}}{\curvearrowright} &&\setC \longrightarrow \setC\\
	&\underbrace{\mu_p}_{\substack{p\text{-te Einheits-}\\ \text{wurzel in } \setC}} = \{e^{\frac{2\pi i k}{p}} \}_{0 \leq k < p} &&z \longmapsto \omega z\\
	&\rightarrow \omega_1 (\omega \cdot z) = (\omega_1 \omega)\cdot z
\end{align*}

\begin{theorem}[Lefschetz'sches Prinzip]\label{lef:thm}
	Eine Aussage $\chi$ in der Ringsprache $\scrL_\text{Ring}$ gilt f"ur $\setC$ genau dann, wenn es unendlich viele Primzahlen $p$ derart gibt, dass $\chi$ in einem algebraisch abgeschlossenen K"orper der Charakteristik $p$ gilt.
\end{theorem}

\begin{proof}[Beweis von Satz \ref{ax:thm} (\nameref{ax:thm})]
	Sei $f: \setC^n \longrightarrow \setC^n$ injektiv. Die Aussage "`$f$ injektiv $\Rightarrow f$ surjektiv"' l"asst sich als $\scrL_\text{Ring}$-Aussage schreiben.
	
	D. h. es gen"ugt zu zeigen, dass diese Aussage f"ur \underline{alle} K"orper $\mathbb{F}^\text{alg}_p$ gilt.
	
	\underline{Was ist $\mathbb{F}^\text{alg}_p$?}\marginpar{Galoistheo.} Ein algebraischer abgeschlossener K"orper der Charakteristik $p$.
	\begin{align*}
		\mathbb{F}^\text{alg}_p = \bigcup\limits_{n \in \setN} F_n \text{, wobei } F_n &\subset F_{n+1} \text{ endliche K"orper mit Charakteristik } p.\\
		F_1&=\{0,1\}\\
		F_2&= \cdots\\
		&\vdots
	\end{align*}
	Sei nun $g: (\mathbb{F}^\text{alg}_p)^n \longrightarrow (\mathbb{F}^\text{alg}_p)^n$ eine surjektive polynomiale Abbildung.
	
	\underline{Zeige: $g$ ist surjektiv.} Sei $(b_1, \dots, b_n) \in (\mathbb{F}^\text{alg}_p)^n$. Dann gibt es ein $N$, sodass $b_i \in \mathbb{F}_n$ f"ur $\mathbb{F}_n$ endlich.
	
	Ferner k"onnen wir $N$ so w"ahlen, dass alle Koeffizienten aus $g$ in $\mathbb{F}_n$ liegen.
	\begin{align*}
		g_{\upharpoonright \mathbb{F}^n_N}: \underbrace{\mathbb{F}^n_N}_{\text{endlich}} \longrightarrow \underbrace{\mathbb{F}^n_N}_{\text{endlich}} \text{ ist }&\text{injektiv (geerbt)}\\
		&\Downarrow \text{ endlich} \\
		&\text{surjektiv}
	\end{align*}
\end{proof}

\begin{proof}[Beweis \nameref{lef:thm} (Satz \ref{lef:thm})]
	\begin{itemize}
		\item["`$\Rightarrow$"'] Sei $\chi$ eine $\scrL_\text{Ring}$-Aussage derart, dass $\setC \models \chi$. Dann ist $\underbrace{\acf_0}_{\substack{\text{alle elementar}\\ \text{"aquivalent}}} \cup \{\lnot \chi \}$ inkonsistent, weil $\acf_0$ vollst"andig ist.
		
		Dann gibt es eine endliche Teilmenge $T_0 \subset \acf_0 \cup \{\lnot \chi \}$, welche inkonsistent ist. $\Rightarrow$ Es gibt ein $N \in \setN$ sodass:
		\begin{equation*}
			T_0 \subset \underbrace{\acf \cup \{\lnot (\underbrace{1+ \cdots +1}_k \dot= 0) \}_{k<N} \cup \{\lnot \chi \}}_{\text{inkonsistent}}
		\end{equation*}
		F"ur $p>N$ eine Primzahl: $\acf_p \models \chi$
		
		\item["`$\Leftarrow$"'] $\rightsquigarrow$ Ultrafilter und \nameref{los:thm}
	\end{itemize}
\end{proof}
		
	\heading{Exkurs:} Sei im Folgenden $I \ne \emptyset$.
	\begin{definition}
		Ein Ultrafilter $\scrU$ auf $I$ ist ein endlich additives Wahrscheinlichkeitsma"s
		\begin{equation*}
			\mu_\scrU : \scrP(I) \longrightarrow \{0,1\}
		\end{equation*}
	\end{definition}
	\begin{remark}
		Die Definition entspricht der von Blatt 1 Aufgabe 3, denn:
		\begin{enumerate}
			\item $\mu_\scrU(I)=1$, $\mu_\scrU(\emptyset)=0$.
			\item $\underset{X\subset Y \subset I}{\mu_\scrU(X)}=1 \Rightarrow \mu_\scrU(Y)=1$
			\item Angenommen $\mu_\scrU(X)=\mu_\scrU(Y) = 1$ aber $\mu_\scrU(X \cap Y) = 0$. Dann gilt $X = X \setminus Y \dot\cup X \cap Y \Rightarrow \mu_\scrU(X \setminus Y) = 1$ und $\mu_\scrU(Y \setminus X) =1$, sowie $I \supset X \cup Y = (X \setminus Y) \dot\cup (Y\setminus X) \dot\cup (X \cap Y)$. $\rightsquigarrow \mu_\scrU(I)= 1 \geq 1+1+0$, ein Widerspruch.
			\item Gegeben $X \subset I$ entweder $\underset{\mu_\scrU(X)=1}{X \in \scrU}$ oder $\underset{\mu_\scrU(I\setminus X)=1}{I\setminus X \in \scrU}$
		\end{enumerate}
	\end{remark}
	
	\begin{definition}
		Ein Hauptultrafilter ist ein Ma"s der Form $\delta_x$ f"ur ein $x \in I$.
	\end{definition}

	\begin{definition}
		Falls I undendlich ist, so gibt es generische/reiche Ultrafilter, n"amlich die Ultrafilter, welche alle koendlichen Mengen enthalten.
	\end{definition}

	\begin{definition}
		Angenommen $(\scrA_i)_{i \in I}$ ist eine $\scrL$-Struktur. Sei ferner $\scrU$ ein Ultrafilter. Definiere eine "Aquivalenzrelation\footnote{vergleiche dazu Blatt 1, Aufgabe 3} auf $\underbrace{\prod\limits_{\scrU}}_{\substack{\text{karthesisches}\\ \text{Produkt}}} A_i$:
		\begin{equation*}
			(a_i)_{i \in I} \sim_\scrU (b_i)_{i \in I} \Longleftrightarrow \{i \in I \mid a_i = b_i \} \in \scrU \Longleftrightarrow \mu_\scrU(\{i \in I \mid a_i = b_i \})=1
		\end{equation*}
	\end{definition}
	\begin{definition}
		Sei $\underbrace{\prod\limits_\scrU}_{\ne \emptyset} A_i$ die Menge $\prod\limits_{i \in I} A_i / \sim_\scrU$. Wir definieren Interpretationen der Symbole aus $\scrL$ auf $\prod\limits_{\scrU} A_i$:
		\begin{itemize}
			\item Sei $c \in \scrL$ ein Konstantenzeichen. Definiere:
			\begin{equation*}
				c^{\prod\limits_{\scrU} A_i} = (c^{\scrA_i})_{i \in I} / \sim_\scrU
			\end{equation*}
			\item Sei $f \in \scrL$ ein $n$-stelliges Funktionszeichen. Definiere:
			\begin{equation*}
				f^{\prod\limits_{\scrU} A_i} ([a_1]_\scrU, \dots, [a_n]_\scrU)= (f^{\scrA_i}(a_1^i, \dots, a_n^i))_{i \in I} / \sim_\scrU 
			\end{equation*}
			Ist das wohldefiniert? Ja, denn fast "uberall gleich.
			\item Sei $\mathcal{R}$ ein $m$-stelliges Relationszeichen auf $\scrL$. Definiere:
			\begin{equation*}
				([a_1]_\scrU, \dots, [a_m]_\scrU) \in \mathcal{R}^{\prod\limits_{\scrU} A_i} \Longleftrightarrow \{i \in I \mid (a_1^i, \dots, a_n^i) \in \mathcal{R}^{\scrA_i} \} \in \scrU
			\end{equation*}
		\end{itemize}
	\end{definition}
	Wenn $\scrU$ ein Hauptfilter ist, dann ist er erzeugt vom Element $\{i_0 \}$.
	\begin{align*}
		\overbrace{\prod\limits_{\scrU} \scrA_i}^{\scrL \text{-Struktur}} &\overset{\varphi}{\longrightarrow} \scrA_{i_0} \text{ ist ein Isomorphismus}\\
		(a_i)_{i \in I} / \sim_\scrU &\longmapsto a_{i_0}
	\end{align*}
	
	\begin{definition}
		Wenn $\scrA$ eine $\scrL$-Struktur und $\scrU$ ein Ultrafilter ist, dann ist $\scrA^\scrU = \prod\limits_{\scrU} \scrA$ die Ultrapotenz.
	\end{definition}

	\begin{example}
		Sei $\scrU$ ein reicher/generischer Ultrafilter auf $\setN$. Betrachte $\mathcal{N} = (\setN, <)$.
		\begin{equation*}
			\mathcal{N}^\scrU \ni {(1,2,3, \dots)/\sim_\scrU} > {(1,1,1, \dots)/ \sim_\scrU}
		\end{equation*}
	\end{example}

%Sitzung 7
\begin{theorem}[Satz von Łoś]\label{los:thm}
	Sei $\scrU$ ein Ultrafilter auf $I$, $(\scrA_i)_{i \in I}$ eine Familie von $\scrL$-Strukturen, $\varphi[x_1, \dots, x_n]$ eine $\scrL$-Formel und $[a_1]_\scrU , \dots, [a_n]_\scrU \in \prod\limits_{\scrU} A_i$. Dann gilt:
	\begin{equation*}
		\prod\limits_{\scrU} \scrA_i \models \varphi[[a_1]_\scrU , \dots , [a_n]_\scrU] \Longleftrightarrow \{i \in I \mid \scrA_i \models \varphi[a^1, \dots, a^n] \} \in \scrU
	\end{equation*}
\end{theorem}
\begin{proof}
	Induktiv "uber den Aufbau von $\varphi$. Sei $\varphi = (t_1 \dot= t_2)$. Dann gilt:
	\begin{align*}
		\prod\limits_{\scrU} A_i &\models (t_1[[a_1]_\scrU , \dots, [a_n]_\scrU] \dot= t_2[[a_1]_scrU, \dots, [a_n]_\scrU])\\
		&\Leftrightarrow t_1^{\prod\limits_{\scrU} \scrA_i}[[a_1]_\scrU , \dots, [a_n]_\scrU] \dot= t_2^{\prod\limits_{\scrU} \scrA_i}[[a_1]_\scrU, \dots, [a_n]_\scrU]\\
		&\underset{\substack{\text{induktiv "uber}\\ \text{den Aufbau}}}{\Leftrightarrow} \{i \in I \mid \scrA_i \models t_1[a_i^1, \dots, a_i^n]\dot= t_2 [a_i^1, \dots, a_i^n] \} \in \scrU
	\end{align*}
\end{proof}

\begin{corollary}
	Sei $\scrA$ eine $\scrL$-Struktur und $\scrU$ ein Ultrafilter auf $I$. Betrachte $\scrA^\scrU = \prod\limits_{\scrU} \scrA$. Das ist eine elementare Erweiterung von $\scrA$ bez"uglich der Abbildung \marginpar{Einbettung,\\injektiv}$\underset{a \longmapsto (a)_{i \in I}/\sim_\scrU}{A \longrightarrow \prod\limits_{\scrU} A}$.
\end{corollary}
\begin{proof}
	Sei $\varphi$ eine $\scrL$-Formel, $a_1, \dots, a_n \in A$. Zu zeigen ist:
	\begin{equation*}
		\scrA \models \varphi[a_1, \dots, a_n] \Longleftrightarrow \scrA_i^\scrU \models \varphi[[a_1]_\scrU , \dots, [a_n]_\scrU]
	\end{equation*}
	\underline{"`$\Rightarrow$"':} Mit \nameref{los:thm} gilt:
	\begin{equation*}
		\scrA_i^\scrU \models \varphi[[a_1]_\scrU , \dots, [a_n]_\scrU] \Longleftrightarrow \{i \in I \mid \scrA \models \varphi[a_1, \dots, a_n] \} \in \scrU
	\end{equation*}
	Da dieser Ausdruck jedoch der gesamten Menge I entspricht, folgt die Behauptung direkt.
	
	\underline{"`$\Leftarrow$"':} Die leere Menge liegt nicht in $\scrU$, also gibt es $i$ sodass die Formel gilt, da diese jedoch von $i$ unabh"angig ist, gilt sie immer.
\end{proof}

\begin{proof}[Beweis \nameref{lef:thm} \eqref{lef:thm} "`$\Leftarrow$"']
	Sei
	\begin{align*}
		S= \left\{p \text{ Primzahl}\mid 
		\begin{array}{l l}
		\text{ein algebraisch abgeschlossener K"orper mit}\\ 
		\text{Charakteristik } p\text{ erf"ullt die Aussage } \chi  \end{array}\right\}
	\end{align*}
	
	Zeige: $S$ ist unendlich. Sei $P \subset \setN$ Primzahlen. Betrachte jetzt
	\begin{equation}
		\scrB = \{X \cap S \subset P \mid X \subset P \text{ koendlich} \}
	\end{equation}
	Ist $\scrB$ eine Filterbasis? $X \cap S = \emptyset$ ist endlich $\Longleftrightarrow~ S \subset P \setminus X$ unendlich, ein Widerspruch.
	
	Weiter gilt $(X_1 \cap S) \cap (X_2 \cap S) = \underbrace{(X_1 \cap X_2)}_\text{koendlich} \cap S$.
	
	$\overset{\text{Blatt 1}}{\Rightarrow}$ es gibt einen Ultrafilter, welcher alle Elemente aus $\scrB$ enth"alt.
	
	Sei im Weiteren $\scrU$ ein Ultrafilter auf $P$, welcher $\scrB$ enth"alt. $X \cap S \in \scrU$ ist f"ur alle $X \subset P$ koendlich.
	
	$\hookrightarrow~ \scrU$ ist reich (kein Hauptultrafilter). F"ur $p_0 \in P$ ist $P \setminus \{p_0\}$ koendlich. \\$\Rightarrow~P \setminus \{p_0\} \cap S \in \scrU$.
	
	$\hookrightarrow~ S \in \scrU$
	
	Sei $K= \prod\limits_{\scrU} K_p$, wobei $K_p$ ein algebraisch abgeschlossener K"orper der Charakteristik $p$ ist derart, dass
	
	\begin{equation*}
		\begin{cases}
			K_p \models \chi &p \in S\\
			\text{egal }_{\text{bspw. } \mathbb{F}_p^{\text{alg}}} &p \notin S
		\end{cases}	
	\end{equation*}
	\begin{enumerate}
		\item $K \models \acf_0$
		\item $K \models \chi$, weil $\{p \in P \mid K_p \models \chi \} \supset S \in \scrU$
	\end{enumerate}
	$\acf_0$ ist vollst"andig $\Rightarrow~ \setC \models \chi$.
\end{proof}

\begin{theorem}[Kompaktheitssatz]\label{kmp:thm}
	Eine Theorie $T$ ist genau dann konsistent, wenn sie endlich konsistent ist.
\end{theorem}
\begin{proof}
	OBdA ist $T$ unendlich. Sei $I = \{\emptyset \neq S \subset T \text{ endlich} \}$. F"ur $s \in I$ gibt es eine $\scrL$-Struktur $\scrA_s$, sodass $\scrA_s \models \chi$ f"ur jedes $\chi \in s$. Sei weiter \begin{equation*}
		B_s = \{t \in I \mid \scrA_t \models \chi \text{ f"ur jedes } \chi \in s \}
	\end{equation*}
	Ist $\scrB = \{B_s\}_{s\in I}$ eine Filterbasis?
	\begin{enumerate}
		\item $\emptyset \neq B_s \ni s$
		\item $B_{s_1} \cap B_{s_2} = \{t \in I \mid \scrA_t \models \chi \text{ f"ur alle } \chi \text{ aus } s_2 \} = B_{s_1 \cup s_2} \in \scrB$!
	\end{enumerate}
	Sei $\scrU$ ein Ultrafilter auf $I$, sodass $B_s \in \scrU$ f"ur jedes $\emptyset \neq s \subset T$ endlich. Sei $\scrA = \prod\limits_{\scrU} \scrA_s$.
	
	Zu zeigen ist: $\scrA \models T$ (sei $\chi \in T$, zeige $\scrA \models \chi$).
	
	$\overset{\text{\nameref{los:thm}}}{\Longleftrightarrow}~ \underbrace{\{s \in T \mid \scrA_s \models \chi \}}_{B_{\{\chi\}}} \in \scrU$
\end{proof}

\part{Typen und Saturation}
\section{Typen}
Sei im Folgenden $\scrL$ eine Sprache und $\scrA$ eine $\scrL$-Struktur.
\begin{definition}
	Ein partieller Typ $\sum (x_1, \dots, x_n)$ mit Parametern aus $B$ ist eine Kollektion von Formeln in der Sprache $\scrL \cup \{b\}_{b \in B}$, welche in der (kanonischen) $\scrL \cup \{b\}_{b \in B}$-Struktur $\scrA$ endlich erf"ullbar ist, das hei"st f"ur alle $\varphi_1, \dots, \varphi_m \in \sum$ gibt es ein Tupel $(a_1, \dots, a_n) \in A^n$ mit $\scrA \models \varphi_i(a_1, \dots, a_n)$ f"ur $1 \leq i \leq m$.
	
	$\scrA$ realisiert $\sum$, falls es ein Tupel $(a_1, \dots, a_n)$ gibt, sodass $\scrA \models \varphi[a_1, \dots, a_n]$ f"ur alle $\varphi \in \sum$. Sonst $\begin{array}{c}
		\text{vermeidet}\\ 
		\text{"ubergeht}
	\end{array} \scrA$ den partiellen Typ $\sum$. 
\end{definition}
\begin{example}
	Betrachte $(\setR, 0, <)$. Sei $\sum (x) = \{0 < x<q \}_{\substack{q \in \setQ \\ q>0}}$ ein partieller Typ.
	
	Wird $\sum$ realisiert oder vermieden? $\rightsquigarrow$ vermieden
	
	Sei jedoch $\sum' = \{\sqrt{2} \leq x < q \}_{\substack{q \in \setQ \\ q > \sqrt{2}}}$. $\rightsquigarrow$ realisiert von $\sqrt{2}$
	
	Betrachte nun $\sum$ auf $\prod\limits_{\scrU} \setR$. Hier realisiert $(1, \frac{1}{2}, \frac{1}{3}, \frac{1}{4}, \dots)$ den partiellen Typen $\sum$!
\end{example}
\begin{remark}
	Sei $\scrA$ eine unendliche Struktur. Dann gibt es immer einen partiellen Typen, der vermieden wird: $\{\lnot (x \dot= a) \}_{a \in A}$.
\end{remark}

%Sitzung 8 14.11.19
\begin{remark}
	Sei $\sum (x_1, \dots, x_n)$ ein partieller Typ "uber $C$ in $\scrA$. Dann gibt es eine elementare Erweiterung $\underbrace{\scrB \succeq \scrA}_{\scrL \cup \{c\}_{c \in C} \text{-Struktur}}$, welche $\sum$ realisiert.
\end{remark}
\begin{proof}
	Seien $\zeta_1, \dots, \zeta_n$ neue Konstantenzeichen. Schreibe $T=\vdig(\scrA) \cup \sum(\zeta_1, \dots, \zeta_n)$. $T$ ist eine $\scrL_A \cup \{\zeta_1, \dots, \zeta_n \}$-Theorie. Falls $\scrB \models T$, dann ist $\{\zeta_1^\scrB , \dots, \zeta_n^\scrB \}$ eine Realisierung von $\sum (x_1, \dots, x_n)$.
	
	\emph{Zu zeigen ist: $T$ endlich konsistent.}\\
	$T_0 \underset{\text{endlich}}{\subset} T \longrightarrow T_0 \subset \vdig(\scrA) \cup \{\varphi_i [\zeta_1, \dots, \zeta_n] \}_{i \in M}$ f"ur $\varphi_1, \dots, \varphi_M \in \sum$, $M \in \setN$. $\{\varphi_1, \dots, \varphi_M \}$ ist in $\scrA$ realisierbar von $(a_1, \dots, a_n) \in A^n$.\\
	$\longrightarrow$ Setze $\tilde{\scrA}$ die $\scrL_A \cup \{\zeta_1, \dots, \zeta_n \}$-Struktur aus $\scrA$ mit Interpretationen $\zeta_i^{\tilde\scrA} = a_i$.
\end{proof}
\begin{definition}
	Ein $n$-Typ "uber $C \subset A$ in der Struktur $\scrA$ ist ein partieller Typ in der Variable $x_1, \dots, x_n$ "uber $C$, welcher maximal endlich erf"ullbar ist bez"uglich der Inklusion zwischen partiellen Typen "uber $C$.\\
	$S_n^\scrA (C)$ ist die Menge aller Typen in $\scrA$ "uber $C$.
	\begin{equation*}
		S^\scrA (C)= \bigcup\limits_{n \in \setN} S_n^\scrA (C)
	\end{equation*}
\end{definition}
\begin{remark}
	$S_n^\scrA (C) \neq \emptyset$. Gegeben $b_1,\dots, b_n \in A$, setze 
	\begin{equation*}
		\typ^\scrA (b_1, \dots, b_n \mid C)= \{\varphi[x_1, \dots, x_n]~ \scrL\text{-Formel} \mid \scrA \models \varphi[b_1, \dots, b_n] \}
	\end{equation*}
	ist ein $n$-Typ "uber $C$. 
\end{remark}
\begin{proof}
	Sei $\varphi[x_1, \dots, x_n] \notin \typ^\scrA (b_1, \dots, b_n \mid C)$. Zu zeigen ist: $\typ^\scrA (b_1, \dots, b_n \mid C) \cup \{\varphi[x_1, \dots, x_n] \}$ nicht endlich erf"ullbar. Aus der Annahme folgt:
	\begin{align*}
		&\scrA \not\models \varphi[b_1, \dots, b_n]\\
		\Longrightarrow~ &\scrA \models \lnot \varphi[b_1, \dots, b_n]\\
		\Longrightarrow~ &\lnot \varphi[x_1, \dots, x_n] \in \typ^\scrA(b_1, \dots, b_n \mid C)\\
		\Longrightarrow~ &\text{Widerspruch zur Maximalit"at}
	\end{align*}
	Sei nun $p (x_1, \dots, x_n) \in S^\scrA_n (C)$. Gegeben $\varphi[x_1, \dots, x_n]$ eine $\scrL_C$-Formel. Zu zeigen ist: $\varphi \in p$ oder $\lnot \varphi \in p$.
	
	Angenommen $\varphi \notin p$. $\Longrightarrow p \subsetneq \underbrace{p(x_1, \dots, x_n) \cup \{\varphi[x_1, \dots, x_n] \}}_\text{endlich erf"ullbar}$\\
	$\rightsquigarrow$ Es gibt $\varphi_1, \dots, \varphi_k \in p$ sodass $\varphi_1, \dots, \varphi_k, \varphi$ in $A$ nicht erf"ullbar ist. Insbesondere
	\begin{align*}
		\scrA &\not\models \Exists x_1, \dots, x_n (\bigwedge\liminf_{i=1}^k \varphi_i[x_1, \dots, x_n] \land \varphi[x_1, \dots, x_n])\\
		\Longleftrightarrow \scrA &\models \lnot \Exists x_1, \dots, x_n (\bigwedge\liminf_{i=1}^k \varphi_i[x_1, \dots, x_n] \land \varphi[x_1, \dots, x_n])\\
		\Longleftrightarrow \scrA &\models \Forall x_1 \cdots \Forall x_n (\bigwedge\limits_{i=1}^k \varphi_i[x_1, \dots, x_n] \rightarrow \lnot \varphi[x_1, \dots, x_n])
	\end{align*}
	Es gen"ugt zu zeigen, dass $p \subseteq p(x_1, \dots, x_n) \cup \{\lnot \varphi[x_1, \dots, x_n]\}$ endlich erf"ullbar ist. 
	Sei dazu $\psi_1, \dots, \psi_r \in p$. Wir wollen zeigen: 
	\begin{equation*}
		\scrA \models \Exists x_1, \dots, x_n (\bigwedge\limits_{j=1}^r \psi_j [x_1, \dots, x_n] \land \lnot \varphi[x_1, \dots, x_n])
	\end{equation*}
	$\varphi_1, \dots, \varphi_k, \psi_1, \dots, \psi_r \in p$, $p$ ist insbesondere partieller Typ.\\
	$\hookrightarrow$ es gibt $(a_1, \dots, a_n) \in A^n$ mit $\scrA \models \bigwedge \varphi_i[a_1, \dots, a_k] \land \bigwedge \psi_j[a_1, \dots, a_n]$.\\
	$\Longrightarrow~ \scrA \models \lnot \varphi[a_1, \dots, a_n]$
\end{proof}

\heading{Allgemeiner:} Sei $T$ eine konsistente Theorie in der Sprache $\scrL$. Definiere: $n$-Typ in $T$ ist eine Kollektion von $\scrL$-Formeln in $x_1, \dots, x_n$, welche endlich konsistent mit $T$ ist, es gilt also f"ur $\varphi_1, \dots, \varphi_m \in p$: $T \cup \{\Exists x_1, \dots, x_n (\bigwedge\limits_{j=1}^m \varphi_j [x_1, \dots, x_m]) \}$ ist konsistent, und maximal bez"uglich Inklusion mit dieser Eigenschaft:

F"ur $\scrA$ eine $\scrL$-Struktur und $C \subset A$. Dann sei $T$ die $\scrL_C$-Theorie von $\scrA$. \begin{equation*}
	\underbrace{p \in S_n (T)}_{n \text{-Typ von }T} \Leftrightarrow p \in S_n^\scrA (C)
\end{equation*}

\begin{corollary}
	Gegeben eine $\scrL$-Struktur $\scrA$ gibt es $\scrB \succ \scrA$, welche alle Typen in $S^\scrA (A)$ realisiert.
\end{corollary}
\begin{proof}
	Sei $\{p_\alpha\}_{\alpha < \lambda}$ eine Aufz"ahlung von $S^\scrA (A)$. Wir konstruieren eine elementare Kette $\scrA = \scrA_0 \preceq \scrA_1 \preceq \dots \preceq \scrA_\alpha \preceq \dots$ so, dass $\underbrace{p_\alpha}_{\substack{\text{als part. Typ}\\ \text{"uber } A \text{ in } \scrA_\alpha}}$ in $\scrA_{\alpha+1}$ realisiert wird.\\
	$\scrA_0 = \scrA$. $\scrA_1$ wird mithilfe des Lemmas f"ur $p_0$ gewonnen. Falls $\gamma$ eine Limeszahl ist: Setze $\scrA_\gamma = \bigcup\limits_{\beta<\gamma} \scrA_\beta$. Sei $\scrA \preceq \scrB = \bigcup\limits_{\alpha<\lambda} \scrA_\lambda$.
\end{proof}

\heading{Achtung:} $\scrB$ kann sehr gro"s werden!
\begin{example}
	$\scrA = (\setR, <) ~\rightsquigarrow$ Typ f"ur jedes Element aus $\setR$.
	\begin{align*}
		r \in \setR \longrightarrow p_r \supset &\{x<r \} \cup \{s < x \}_{s<r}\\
		p_r \text{ "`="' } &\{x<r \} \cup \{s < x \}_{s<r}\\
		p_{r^+} = &\{x> r\} \cup \{s>x \}_{s>r}
	\end{align*}
\end{example}

\heading{Ziel:} $S_n (T)$ ist ein kompakter, $0$-dimensionaler Hausdorff topologischer Raum $\rightsquigarrow$ "`Stoneraum der Theorie $T$"'.
\newpage
\section{Exkurs: Einf"uhrung in die Topologie}
Sei $X$ eine Menge.
\begin{definition}
	Eine Basis $\scrB$ einer Topologie auf $X$ ist eine Kollektion von Teilmengen derart, dass
	\begin{enumerate}
		\item $\Forall x \in X$ gibt es $B \in \scrB$ mit $x \in B$
		\item $\Forall B_1, B_2 \in \scrB \Forall x \in B_1 \cap B_2$ gibt es ein $B_3 \in \scrB$ mit $x \in B_3 \subset B_1 \cap B_2$
	\end{enumerate}
\end{definition}
\begin{definition}
	$U\subset X$ ist \emph{offen}, falls es f"ur jedes $x \in U$ ein $B \in \scrB$ gibt mit $x \in B \subset U$.\\
	Sei $T = \{ U \underset{\text{offen}}{\subset} X\}$. Die Kollektion $T$ erf"ullt folgende Eigenschaften:
	\begin{enumerate}
		\item $\emptyset, X \in T$
		\item $U_1, U_2 \in T \Rightarrow U_1 \cap U_2 \in T$
		\item Sei $(U_i)_{i \in I} \subset T$. Dann ist $\bigcup\limits_{i \in I} U_i \in T$
	\end{enumerate}
\end{definition}

%Sitzung 9 19.11.19
\begin{example}
	\begin{enumerate}
		\item die euklidische Topologie auf $\setR^n, \setC^n$
		\item die triviale Topologie auf $X$ ist $\{\emptyset, X \}$
		\item die diskrete Topologie auf $X$ ist $\scrP(X)$
		\item die koendliche Topologie auf $X$ wird gegeben als: 
		\begin{equation*}
			U \subset X \text{ offen } \Longleftrightarrow |X \setminus U| \text{ endlich, oder } U = \emptyset
		\end{equation*}
	\end{enumerate}
	So ist beispielsweise $(0,1)$ offen in $\setR$ f"ur die euklidische Topologie, aber nicht f"ur die koendliche Topologie.
\end{example}
\begin{remark}
	$Y \subset X$ ist offen $\Longleftrightarrow~ \Forall x \in Y \underbrace{\Exists \underset{\in T}{U} \ni x}_{\substack{U \text{ ist eine}\\ \text{Umgebung von } x}}$ mit $x \in U \subset Y$
\end{remark}
\begin{definition}
	Eine Menge $C \subset X$ ist \emph{abgeschlossen}, falls das Komplement offen ist.
\end{definition}
\begin{definition}
	Ein topologischer Raum $(X.T)$ ist \emph{0-dimensional}, falls es eine Basis der Topologie gibt, welche aus offen-abgeschlossenen\footnote{Englisch: "`clopen"'} Mengen besteht.
\end{definition}
\begin{example}
	Die diskrete Topologie ist \emph{0-dimensional}, weil sie als Basis $\{\{x\} \}_{x \in X}$ hat.
\end{example}
\begin{definition}[Trennungseigenschaften]
	Sei $(X, T)$ ein topologischer Raum.
	\begin{enumerate}
		\item[T1] \label{T1} Falls $x \neq y \in X$ gibt es Umgebungen $\overbrace{U^x}^{\substack{\text{offene Menge}\\ \text{die } x \text{ enth"alt}}}, U^y$ mit $x \in U^x \setminus U^y, y \in U^y \setminus U^x$.
		\item[T2] \label{T2} (Hausdorff) falls $x \neq y \in X$ gibt es $U^x, U^y$ Umgebungen mit $U^x \cap U^y = \emptyset$
	\end{enumerate}
\end{definition}
\begin{remark}
	$T2 \Rightarrow T1$
\end{remark}
\begin{example}
	\begin{itemize}
		\item Ist die euklidische Topologie T2? Ja.
		\item Sei $X$ unendlich. Ist die koendliche Topologie $T$ Hausdorff? Nein. Ist sie T1? Ja: $U^x = X \setminus \{y\}, U^y = X \setminus \{x\}$
	\end{itemize}
\end{example}
\begin{remark}
	$(X,T) ~T1 \Rightarrow$ Jeder Punkt ist abgeschlossen!
\end{remark}
\begin{proof}
	Zu zeigen: $X \setminus \{x\}$ offen\\
	Sei $y \in X \setminus \{x\}$. Wir suchen $U^y \subset X \setminus \{x\}$. Es gilt $x \neq y \Longrightarrow \begin{array}{l}
		U^x\\
		U^y
	\end{array}$, insbesondere $x \notin U^y \Longrightarrow \underset{\in Y}{U^y} \subset x \setminus \{x\}$
\end{proof}
\begin{definition}
	$(X,T)$ topologischer Raum. \begin{itemize}
		\item $s \in X$ ist \emph{isoliert}, falls $\{x\}$ offen ist.
		\item $A \subset X$ ist \emph{dicht}, falls f"ur jede offene Menge $\emptyset \neq U \subset X$ ist $A \cap U \neq \emptyset$
		\item $x \in X$ ist ein \emph{H"aufungspunkt von $A$}, falls f"ur jede Umgebung $U^x \ni x$ gilt, dass $U^x \cap (A\setminus \{x\}) \neq \emptyset$
	\end{itemize}
\end{definition}
\begin{remark}
	Sei $A \underset{\text{dicht}}{\subset} X$. $\underbrace{C}_{\supset A} \underset{\text{ageschl.}}{\subset} X \Longrightarrow C=X$
\end{remark}
\begin{proof}
	Zu zeigen ist: $C=X$. Sonst ist $\overbrace{\underset{\neq \emptyset}{X \setminus C}}^U$ offen. $\overset{A \text{ dicht}}{\Longrightarrow} \underbrace{A \cap U}_{\subset C \cap (x \setminus C) = \emptyset} \neq \emptyset$, ein Widerspruch.
\end{proof}
\begin{remark}
	Eine Topologie auf $X$ ist genau dann diskret, \marginpar{"Ubung} falls jeder Punkt isoliert ist.
\end{remark}
\begin{remark}
	Eine Teilmenge $C \subset X$ ist genau dann abgeschlossen, wenn $C$ alle ihre H"aufungspunkte enth"alt.
\end{remark}
\begin{proof}
	\underline{"`$\Rightarrow$"':} $x \notin C \Rightarrow x \in \underbrace{X \setminus C}_{\text{offen}}$ und $(X \setminus C) \cap (\underbrace{C \setminus \{x\}}_{=C}) = \emptyset \Rightarrow x$ kein H"aufungspunkt von $C$.
	
	\underline{"`$\Leftarrow$"'}: Zu zeigen: $X \setminus C$ offen. Sei dazu $x \in X \setminus C$ beliebig. $\Rightarrow x$ ist kein H"aufungspunkt von C $\Rightarrow \Exists U^x \ni x$ mit $U^x \cap \underbrace{C \setminus \{x\}}_{= C} = \emptyset \Rightarrow x \in U^x \subset X \setminus C$
\end{proof}
\begin{definition}
	Seien $X, Y$ topologische R"aume. Die Abbildung $f: X \longrightarrow Y$ ist \emph{stetig auf $x_0$}, falls f"ur jede Umgebung $V^{f(x_0)} \ni f(x_0)$ (in $Y$) das Urbild $f^{-1}(V)$ in $X$ offen ist.\\
	$f$ ist stetig, wenn sie auf jedem Punkt in $X$ stetig ist.
\end{definition}
\begin{remark}
	Es gen"ugt Urbilder von Basiselementen zu betrachten. Warum? Sei $V$ eine Umgebung von $f(x_0)$.\\
	$\hookrightarrow$ es gibt $B$ ein Basiselement mit $f(x_0) \in B \subset V \Rightarrow x_0 \in \underbrace{f^{-1}(B)}_{\text{offen}} \subset f^{-1}(V)$
\end{remark}
\begin{remark}
	$f: X \longrightarrow Y$ ist genau dann stetig, wenn $f^{-1}(C)$ abgeschlossen in $X$ ist f"ur alle $\underset{\text{abgeschlossen}}{C \subset Y}$.
	\begin{equation*}
		X \setminus f^{-1}(C) = f^{-1}(Y \setminus C)
	\end{equation*}
\end{remark}
\begin{example}
	$f: \begin{array}{c}
		X \longrightarrow Y\\
		x \longmapsto y_0
	\end{array}$ konstant. Ist $f$ stetig? Ja, denn $f^{-1}(x) = \begin{cases}
		X &x=y_0\\
		\emptyset &\text{sonst}
	\end{cases}$.
\end{example}
\begin{definition}
	Die Abbildung $f: X \longrightarrow Y$ ist $\begin{array}{c}
		\text{offen}\\
		\text{abgeschlossen}
	\end{array}$, falls f"ur jede $\begin{array}{c}
		\text{offene}\\
		\text{abgeschlossene}
	\end{array}$ Teilmenge $\begin{array}{c}
		U\\
		C
	\end{array}$ von $X$ das Bild $\begin{array}{c c}
		f(U) &\text{offen}\\
		f(C) &\text{abgeschlossen}
	\end{array}$ ist.
\end{definition}
\begin{remark}
	\begin{equation*}
		\text{offen} \begin{array}{c}
			\not\Longrightarrow\\
			\not\Longleftarrow
		\end{array} \text{abgeschlossen}
	\end{equation*}
\end{remark}
\begin{example}
	Betrachte $\Pi : \begin{array}{c}
		\setR^2 \longrightarrow \setR\\
		(x,y) \longmapsto x
	\end{array}$ mit euklidischer Topologie. $\Pi$ ist offen, aber nicht abgeschlossen: Betrachte $\underset{\text{abgeschlossen}}{x \cdot y = 1} \mapsto \underset{\substack{\text{nicht}\\ \text{abgeschlossen}}}{x \neq 0}$.
\end{example}
\begin{example}
	Sei $\begin{array}{c}
		X \longrightarrow Y\\
		\text{konstant}
	\end{array}$ unendlich mit koendlicher Topologie. Diese Abbildung ist abgeschlossen, aber nicht offen.
\end{example}
\begin{definition}
	Ein Hom"oomorphismus $f: X \longrightarrow Y$ ist eine bijektive stetige Abbildung derart, dass die mengentheoretische Abbildung $\begin{array}{c}
		f^{-1} \text{auch stetig}\\
		\overset{\text{bzw.}}{f \text{ offen}}\\
		\overset{\text{bzw.}}{f \text{ abgeschlossen}}
	\end{array}$ ist.
\end{definition}
\begin{definition}
	$(X,T)$ topologischer Raum. Die Menge $K \subset X$ ist kompakt, falls jede offene "Uberdeckung $K \subset \bigcup\limits_{i \in I} \underbrace{U_i}_{\text{offen}}$ eine endliche Teil"uberdeckung besitzt: Es gibt $i_1, \dots, i_n \in I$ mit $K \subset U_{i_1} \cup \dots \cup U_{i_n}$.\\
	$(X,T)$ ist kompakt, wenn $X$ kompakt ist.
\end{definition}
\begin{remark}
	\begin{itemize}
		\item Jede endliche Menge ist kompakt
		\item $f: X \longrightarrow Y$ stetige Abbildung, $K \subset X$ kompakt $\Rightarrow f(K)$ kompakt in $Y$.
	\end{itemize}
\end{remark}
\begin{proof}
	Zu zeigen: $f(K)$ kompakt.
	\begin{align*}
		f(K) \subset \bigcup\limits_{i \in I} \underbrace{V_i}_{\text{offen in }Y} &\Rightarrow K \subset f^{-1}(f(K)) \subset \bigcup\limits_{i \in I} \underbrace{f^{-1}(V_i)}_{\text{offen}}\\
		&\Rightarrow K \subset f^{-1}(V_{i_1}) \cup \dots \cup f^{-1}(V_{i_n})\\
		&\Rightarrow f(K) \subset \underbrace{f(f^{-1}(V_{i_1})}_{\subset V_{i_1}} \cup \dots \cup \underbrace{f(f^{-1}(V_{i_n}))}_{\subset V_{i_n}} 
	\end{align*}
\end{proof}

%Sitzung 10
\begin{lemma}
	$K \subset X$ kompakt. $C \underset{\text{abg.}}{\subset} X$ mit $C \subset K \Longrightarrow C$ kompakt.
\end{lemma}
\begin{proof}
	Sei $C \subset \bigcup\limits_{i \in I} \underbrace{U_i}_{\text{offen}}$. $C$ abgeschlossen $\Longrightarrow X \setminus C$ offen.
	\begin{align*}
		K \subset X &= (X \setminus C) \cup C = (X \setminus C) \cup \bigcup\limits_{i \in I} U_i\\
		&\overset{\substack{\text{oBdA}\\K \text{ kompakt}}}{\hookrightarrow} C \subset K \subset (X \setminus C) \cup U_{i_1} \cup \dots \cup U_{i_n}\\
		&\Longrightarrow C \subset U_{i_1} \cup \dots \cup U_{i_n} &\checkmark
	\end{align*}
\end{proof}
\begin{lemma}\label{haus:komp}
	$X$ Hausdorff, $K \underset{\text{kompakt}}{\subset} X \Longrightarrow K$ abgeschlossen.
\end{lemma}
\begin{proof}
	Es gen"ugt zu zeigen, dass wenn $x \notin K$, dann ist $x$ kein H"aufungspunkt von $K$.\\
	F"ur $y \in K \rightarrow y \neq x \overset{\substack{x\\ \text{Hausdorff}}}{\hookrightarrow} \Exists U^x_y, V^y$ mit $U^x_y \cap V^y = \emptyset \rightarrow K \subset \bigcup\limits_{y \in K} V^y \overset{K\text{ kompakt}}{\Longrightarrow} K \subset V^{y_1} \cup \dots \cup V^{y_n}$ f"ur $y_1, \dots, y_n \in K$.\\
	Setze $U = \bigcap\limits_{i=1}^n U^x_{y_i} \ni x$ offen. Zu zeigen bleibt: $U \cap \underbrace{K}_{=K \setminus \{x\}} = \emptyset$.\\
	$U \cap K \subset U \cap (\bigcup\limits_{i=1}^n V^{y_i}) = \bigcup U \cap V^{y_i} \subset U^x_{y_i} \cap V^{y_i} \underset{\text{n. Def.}}{=} \emptyset \Rightarrow x$ ist kein H"aufungspunkt.
\end{proof}
\begin{corollary}
	$X$ Hausdorff, $(K_i)_{i \in I}$ kompakte Teilmengen. $\Longrightarrow \bigcap\limits_{i \in I} K_i$ kompakt.
\end{corollary}
\begin{proof}
	$\underbrace{\bigcap\limits_{i \in I} \underbrace{K_i}_{\text{abg.}}}_{\subset K_i \text{ kompakt}}$ abgeschlossen. $\overset{\eqref{haus:komp}}{\Longrightarrow} \bigcap\limits_{i \in I} K_i$ kompakt.
\end{proof}
\begin{corollary}\label{huk}
	$f: X \longrightarrow Y$ stetig, $X, Y$ topologische R"aume.
	\begin{equation*}
		Y \text{ Hausdorff} \Longrightarrow f \text{ abgeschlossen}
	\end{equation*}
\end{corollary}
\begin{proof}
	Sei $C \subset X$ abgeschlossen. $\Longrightarrow C$ ist kompakt $\Longrightarrow \underbrace{f(C)}_{\subset Y \text{ Hausdorff}}$ ist kompakt $\overset{\eqref{haus:komp}}{\Longrightarrow} f(C)$ abgeschlossen.
\end{proof}

\section{Stoneraum von Typen einer Theorie}
Sei $T$ eine konsistente Theorie in der Sprache $\scrL$. Ein $n$-Typ ist eine Menge von $\scrL$-Formeln in den Variablen $x_1, \dots, x_n$, welche endlich konsistent bez"uglich $T$ ist, und maximal mit dieser Eigenschaft bez"uglich Inklusion.\\
Gegeben $\varphi_1, \dots, \varphi_m \in p$. Dann ist $T \cup \{\Exists \vec{x} (\bigwedge\limits_{i=1}^m \varphi_j[\vec{x}]) \}$ konsistent.
\begin{remark}
	Wenn $T$ vollst"andig ist, dann gilt
	\begin{equation*}
		S_n(T) = S^\scrA_n(\emptyset)
	\end{equation*}
	f"ur jedes Modell $\scrA \models T$, wobei $S^\scrA_n(\emptyset)$ die Menge aller Typen $p(x_1, \dots, x_n)$ in $n$ Variablen ist, sodass $\varphi_1, \dots, \varphi_m \in p, ~\scrA \models \Exists \vec{x}(\bigwedge\limits_{j=1}^m \varphi_j(\vec{x}))$.
\end{remark}
\heading{H"aufig:} $\scrA$ eine $\scrL$-Struktur, $B \subset A: S^\scrA_n (B) = S_n(\Th(\scrA, b)_{b \in B})$
\begin{definition}
	Gegeben $\varphi = \varphi[x_1, \dots, x_n]$, setze 
	\begin{equation*}
		[\varphi] = \{p \in S_n(T) \mid \varphi \in p \}
	\end{equation*}
\end{definition}
\begin{remark}\label{stone:basis}
	Typen sind unter Deduktion abgeschlossen.
	\begin{align*}
		&[\varphi \land \psi] = [\varphi] \cap [\psi]\\
		&[\varphi \lor \psi] = [\varphi] \cup [\psi]\\
		&[\lnot (x_1 \dot= x_1)] = \emptyset\\
		&[\lnot \varphi] = S_n(T) \setminus [\varphi]\\
		&[(x_1 \dot= x_1)] = S_n(T)
	\end{align*}
\end{remark}
\begin{remark}
	\begin{equation*}
		[\varphi] \subset [\psi] \Longleftrightarrow T \models \Forall \vec{x}(\varphi[\vec{x}] \rightarrow \psi[\vec{x}])
	\end{equation*}
	Insbesondere $[\varphi] = [\psi]$ genau dann, wenn $\varphi, \psi$ logisch "aquivalent modulo $T$ sind.
\end{remark}
\begin{proof}
	\underline{"`$\Rightarrow$"':} Falls $T \models \Forall \vec{x}(\varphi[\vec{x}] \rightarrow \psi [\vec{x}]) \Longrightarrow T \cup \{\Exists \vec{x} (\varphi[\vec{x}]\land \lnot \psi[\vec{x}]) \}$ konsistent. Das hei"st die Menge $\{(\varphi[\vec{x}] \land \lnot \psi[\vec{x}]) \}$ ist ein partieller Typ.\\
	$\overset{\text{Zorn}}{\longrightarrow}$ es gibt $p \in S_n(T)$ mit $(\varphi[\vec{x}] \land \lnot \psi[\vec{x}]) \in p \underset{\substack{p\text{ unter}\\\text{Deduktion}\\\text{abgeschlossen}}}{\Longrightarrow} p \in [\varphi] \setminus [\psi]$.
	
	\underline{"`$\Leftarrow$"':} $p \in [\varphi] \Rightarrow \varphi \in p \overset{T \models \Forall \bar{x}(\varphi[\bar{x}]\rightarrow\psi[\bar{x}])}{\Longrightarrow} \psi \in p \Rightarrow p \in [\psi]$.
\end{proof}
\begin{theorem}
	Die Kollektion $\{[\varphi] \}_{\varphi[x_1, \dots, x_n] \text{ eine }\scrL \text{-Formel}}$ bildet eine Basis der Topologie auf $S_n(T)$ derart, dass $S_n(T)$ 0-dimensional, Hausdorff und kompakt ist.
\end{theorem}
\begin{proof}
	\underline{Basis:} $\checkmark$ wegen \eqref{stone:basis}.
	
	\underline{0-dimensional:} $S_n(T) \setminus [\varphi] = \underbrace{[\lnot \varphi]}_\text{offen} \Rightarrow [\varphi]$ ist abgeschlossen (und offen).
	
	\underline{Hausdorff:} Seien $p \neq q \in S_n(T) \Rightarrow$ es gibt $\varphi \in p \setminus q \Rightarrow p \in [\varphi], q \in [\lnot \varphi]$ \emph{disjunkt}.
	
	\underline{$S_n(T)$ kompakt:} Es gen"ugt zu zeigen, dass jede offene Umgebung der Form $\bigcup\limits_{i \in I}[\varphi_i]$ eine endliche "Uberdeckung besitzt, denn:
	\begin{equation*}
		X = \bigcup\limits_{i \in I} \underbrace{U_i}_{= \bigcup\limits_{j \in J} B_{ij}} = \bigcup\limits_{\substack{i \in I\\j \in J}} B_{ij} \longrightarrow X \subset \underbrace{B_{i_1 j_1} \cup \dots \cup B_{i_n j_n}}_{\subset U_{i_1}}
	\end{equation*}
	Also: $S_n(T) = \bigcup\limits_{i \in I} [\varphi_i] \Rightarrow \emptyset = \bigcap\limits_{i \in I} [\lnot\varphi_i] \overset{\text{\nameref{satz:kompakt}}}{\Longrightarrow} \{\lnot \varphi_i[\vec{x}] \}_{i \in I}$ nicht endlich erf"ullbar in T $\Rightarrow$ es gibt $\varphi_{i_1}, \dots, \varphi_{i_n}$ sodass $T \cup \{\Exists \vec{x} (\bigwedge\limits_{j=1}^n \lnot \varphi_{ij}[\vec{x}]) \}$ inkonsistent.\\
	Also $T \models \Forall \vec{x} (\bigvee\limits_{j=1}^n \varphi_{ij}[\vec{x}]) \overset{\eqref{stone:basis}}{\Longrightarrow} S_n(T) = [\varphi_{i_1}] \cup \dots \cup [\varphi_{i_n}]$. Sonst g"abe es $p \in S_n(T)\setminus \bigcup\limits_{j=1}^n [\varphi_{ij}] \Rightarrow \lnot\varphi_{i_1}, \dots, \varphi_{i_n} \in p \underset{\substack{p\text{ endlich}\\\text{erf"ullbar}\\\text{in }T}}{\Longrightarrow} T \cup \{\Exists \vec{x}(\bigwedge\limits_{j=1}^n \lnot \varphi_{ij}[\vec{x}]) \}$.
\end{proof}

%Sitzung 11 26.11.19
\begin{remark}
	Jede offene abgeschlossene Menge in $S_n(T)$ ist der Form $[\varphi]$ f"ur eine $\scrL$-Formel $\varphi[x_1, \dots, x_n]$.
\end{remark}
\begin{proof}
	Sei $X$ offen-abgeschlossen. $\underset{X \text{ offen}}{\Longrightarrow} X = \bigcup\limits_{p \in X} [\varphi_p]$, mit $p \ni \varphi_p$.\\
	$X$ abgeschlossen $\underset{\substack{S_n(T)\\\text{kompakt}}}{\Longrightarrow} X$ kompakt $\underset{\text{Kompaktheit}}{\Longrightarrow} X = \bigcup\limits_{i=1}^n [\varphi_{p_i}] = [\bigvee\limits_{i=1}^n \varphi_{p_i}]$.
\end{proof}
\begin{definition}[Erinnerung]
	Seien $\scrA, \scrB ~\scrL$-Strukturen. $h: A_0 \longrightarrow B_0$ ist elementar, falls f"ur alle $a_1, \dots, a_n \in A_0$, $\varphi=\varphi[a_1, \dots, a_n]$ gilt:
	\begin{equation*}
		\scrA \models \varphi[a_1, \dots, a_n] \Longleftrightarrow \scrB \models \varphi[h(a_1), \dots, h(a_n)]
	\end{equation*}
\end{definition}
\begin{remark}\label{hstern}
	Sei $h: \overset{\subset A}{A_0} \longrightarrow \overset{\subset B}{B_0}$ elementar, $B \supset C \supset B_0$. Dann induziert $h$ eine abgeschlossene stetige surjektive Abbildung
	\begin{equation*}
		\underbrace{S_n^\scrB(C)}_{\substack{\text{kompakt \&}\\\text{Hausdorff}}} \overset{h_*}{\longrightarrow} \underbrace{S_n^\scrA(A_0)}_{\substack{\text{kompakt \&}\\\text{Hausdorff}}}
	\end{equation*}
	\emph{Bemerke:} Abgeschlossenheit von $h_*$ folgt direkt mit \ref{huk}.
	\begin{equation*}
		h_*(q) = \{\varphi[x_1, \dots x_n] \scrL_{A_0} \text{-Formel mit } \underbrace{h(q)}_{\substack{\scrL_{B_0} \text{-Formel}\\\hookrightarrow \scrL_C \text{-Formel}}} \in q \}
	\end{equation*}
\end{remark}
\begin{example}
	$\varphi = (x_1 \dot= a_1)$, $h(\varphi) = (x_1 \dot= \underbrace{h(a_1)}_{\in B_0 \subset C})$.
\end{example}
\begin{proof}[Beweis von Bemerkung \ref{hstern}]
	Zeige zuerst: $h_*$ ist \emph{wohldefiniert}: Sei $\varphi_1, \dots, \varphi_k \in h_*(q)$. $\zz \scrA \models \Exists \vec{x}(\bigwedge\limits_{i=1}^k \varphi_i [\vec{x}])$.\\
	Nach Voraussetzung gilt: $h(\varphi_1), \dots, h(\varphi_k) \in q \overset{\substack{\text{endlich}\\\text{erf"ullbar}}}{\Longrightarrow} \scrB \models \Exists \vec{x} (\underbrace{\bigwedge\limits_{i=1}^k h(\varphi_i[\vec{x}])}_{= \Theta[h(a_1), \dots, h(a_m)]}) \\\Longrightarrow$ Behauptung.
	
	Zeige weiter: $h_*(q)$ ist \emph{maximal endlich erf"ullbar}. Es gen"ugt zu zeigen, dass falls $\varphi \notin h_*(q) \Longrightarrow \lnot \varphi \in h_*(q)$.\\
	Angenommen $h_*(q) \subsetneq \sum$. $\zz \sum$ nicht endlich erf"ullbar in $\scrA$.\\
	Nach Voraussetzung gibt es \marginpar{Typen sind Ultrafilter}$\varphi \in \sum \setminus h_*(q)$. $\Longrightarrow \lnot \varphi \in h_*(q) \subset \sum \Longrightarrow \{\varphi, \lnot \varphi \} \subset \sum$. Sei $\varphi \notin h_*(q) \Longrightarrow h(\varphi) \in q \overset{q \text{ vollst"andig}}{\Longrightarrow} \underbrace{\lnot h(\varphi)}_{=h(\lnot \varphi)} \in q \Longrightarrow \lnot \varphi \in h_*(q)$.
	
	Zeige weiter: $h_*$ ist \emph{stetig}. Es gen"ugt zu zeigen, dass $h_*^{-1}([\varphi])$ offen ist.
	\begin{equation*}
		[h(\overbrace{\varphi}^{\scrL_{B_0} \text{-Formel}})] = \{q \in S_n^\scrB (C) \mid \underbrace{h_*(q) \in [\varphi]}_{\substack{\updownarrow\\\varphi \in h_*(q)\\\updownarrow\\h(\varphi) \in q}} \} = h_*^{-1}([\varphi])
	\end{equation*}
	
	Zeige nun \emph{Surjektivit"at}. Sei $p \in S_n^\scrA (A_0)$. Wir suchen ein $q$ mit $\underbrace{\varphi}_{\scrL_{A_0}\text{-Formel}} \in h_*(q) = p \\\Longrightarrow h(\varphi) \in q$.
	
	\begin{example}
		Betrachte $(\setR, <) \preceq \underbrace{(\mathcal{R}, <)}_{0 < \varepsilon < r,~ r>0}$ "uber $\setQ \cup \{\varepsilon\}$. Hier werden zwei verschiedene Typen in einen einzigen abgebildet:
		\begin{equation*}
			\begin{array}{c}
				q \in \setR\\
				q>x>\varepsilon\\
				0<x<\varepsilon
			\end{array} \longrightarrow \begin{array}{c}
				0<x<q\\
				q>0
			\end{array}
		\end{equation*}
	\end{example}
	Zur "Ubung: Wenn in Bemerkung \ref{hstern} $B_0$ anstelle von $C$ st"unde, so w"are $h_*$ ein Hom"oomorphismus.
	
	\underline{Frage:} Ist $\{h(\varphi) \mid \varphi \in p \}$ endlich erf"ullbar?\\
	Seien dazu $\varphi_1, \dots, \varphi_k \in p$. $\zz \scrB \models \Exists \vec{x} (\bigwedge\limits_{i=1}^k h(\varphi_i)[\vec{x}])$\\
	Aus dem vorherigen Teil des Beweises folgt $\scrA \models \Exists \vec{x}(\bigwedge\limits_{i=1}^k h(\varphi_i[\vec{x}])) \Longrightarrow$ Behauptung.
\end{proof}
\begin{example}
	Sei $\scrA = \scrB$ und $A_0 \subset C$. Dann besagt der Satz:
	\begin{equation*}
		\begin{array}{c c c}
			S_n^\scrA(C) &\overset{\substack{\text{Einschr"ankung}\\\text{von Prametern}}}{\longrightarrow} &S_n^\scrA (A_0)\\
			q &\longmapsto & q_{\upharpoonright_{A_0}}
		\end{array}
	\end{equation*}
\end{example}
\section{Typenvermeidungssatz und Isolation}
Im Folgenden betrachten wir \emph{isolierte Typen}. Topologisch betrachtet sieht das so aus:
\begin{equation*}
	\overset{\in S_n(T)}{p} \text{ isoliert } \Longleftrightarrow \underset{\text{abgeschlossen}}{\overset{\text{offen}}{\{p\}}} = [p] \text{f"ur eine } \scrL \text{-Formel } \varphi \in p
\end{equation*}
Wir m"ochten das syntaktisch verstehen.
\begin{remark}\label{bem:voll}
	Ein $n$-Typ $p \in S_n(T)$ ist genau dann isoliert, wenn er eine \emph{komplette} Formel $\varphi =\varphi[x_1, \dots, x_n]$ enth"alt, das hei"st
	\begin{equation*}
		p = \{\psi \scrL\text{-Formel} \mid T \models \Forall \vec{x} (\varphi[\vec{x}] \rightarrow \psi[\vec{x}]) \}
	\end{equation*}
	\underline{Insbesondere} ist jeder isolierte Typ in jedem Modell von $T$ realisiert, falls $T$ vollst"andig ist!
\end{remark}

\heading{Aufgaben} (Blatt 6): Betrachte $\overbrace{(\setR, <)}^{\text{hat QE}}$. 
\begin{itemize}
	\item Ist der Typ $\{0 < x < q \}_{\substack{q \in \setQ\\q>0}}$ isoliert?
	\item Ist der Typ $\{(x \dot= 15) \}$ isoliert\footnote{das ist nur ein Typ, denn er muss endlich erf"ullbar sein}?
\end{itemize}
\begin{proof}[Beweis von Bemerkung \ref{bem:voll}]
	\underline{"`$\Rightarrow$"':} Sei $\psi \in p$. $\Longrightarrow [(\underbrace{\varphi \land \psi}_{\in p})] \subset [\varphi] = \{p\} \Longrightarrow [\varphi] = [(\varphi \land \psi)] \Longleftrightarrow T \models \Forall \vec{x} (\varphi[\vec{x}]\rightarrow\psi[\vec{x}])$
	
	$\Longrightarrow p \overset{}{\subseteq} \{\psi~ \scrL \text{-Formel} \mid T\models \Forall \vec{x} (\varphi[\vec{x}]\rightarrow \psi[\vec{x}]) \}$\\
	Hier m"ochten wir eigentlich Gleichheit zeigen. Weil $p$ jedoch bez"uglich $\subset$ maximal ist, gen"ugt es zu zeigen, dass die rechte Seite endlich erf"ullbar ist: $\{\psi_1, \dots, \psi_k \mid T \models \Forall \vec{x}(\varphi[\vec{x}]\rightarrow \psi_i[\vec{x}]) \}$. Also: $T \models \Forall \vec{x} (\varphi[\vec{x}] \rightarrow (\bigwedge\limits_{i=1}^k \psi_i[\vec{x}]))$.\\ 
	$\zz T \cup \{\Exists \vec{x} (\bigwedge\limits_{i=1}^k \psi_i[\vec{x}]) \}$ konsistent.\\
	$\varphi \in \underbrace{p}_{\substack{\text{endlich}\\\text{erf"ullbar}}} \Longrightarrow T\cup \{ \Exists \vec{x} \varphi[\vec{x}] \}$ ist konsistent $\Longrightarrow$ Behauptung.
	
	\underline{"`$\Leftarrow$"':} Angenommen $p = \underbrace{\{\psi \mid T \models \Forall \vec{x} (\varphi[\vec{x}] \rightarrow \psi[\vec{x}]) \}}_{\ni \varphi}$. Dann folgt $\varphi \in p$, und somit $\{p\} \underbrace{\overset{\subset \text{ klar}}{=}}_{\text{Hausdorff}} \bigcap\limits_{\psi \in p} [\psi] \supset [\varphi] \ni p \Longrightarrow \{p\} = [\varphi]$ ist isoliert!
	
	\underline{Zu "`Insbesondere"':} $T$ vollst"andig. Sei $p$ isoliert durch $\varphi$. $\overset{T \text{ vollst"andig}}{\Longrightarrow} T \models \Exists \vec{x} \varphi[\vec{x}]$. Sei $\mathcal{M} \models T$ und $\vec{a} \in M^{|\vec{x}|} \mid \mathcal{M} \models \varphi[\vec{a}] \Longrightarrow \mathcal{M} \models \psi [\vec{a}]$ f"ur $\psi \in p$.
\end{proof}

%Sitzung 12 28.11.
\begin{remark}
	$h: A_0 \longrightarrow B_0 = \im (h)$ elementar $\Longrightarrow h_* : S_n^\scrB (B_0) \longrightarrow S_n^\scrA (A_0)$ Hom"oomorphismus\footnote{Hom"oomorphismen interessieren uns, weil unter diesen Topologien erhalten bleiben}.
\end{remark}
%PRUEFUNGSRELEVANT
\begin{example}
	Sei\marginpar{Vgl. Blatt 5 Aufgabe 3} $T = \exists^\infty$ (diese Theorie ist vollst"andig und hat Quantorenelimination). Betrachte $\scrA \models T$. Wir wollen $S_1^\scrA(A)$ besser verstehen. $S_1^\scrA(A)$ enth"alt Typen der Form $(x \dot= a)$ f"ur jedes Element $a$ (diese Typen sind isoliert), sowie einen Typen der Form $\{\lnot (x \dot= a) \}_{a \in A}$ (ohne diesen Typen h"atten wir ein Problem, denn dann w"aren alle Typen isoliert).
	Insbesondere folgt auch: F"ur $A$ abz"ahlbar gilt $|S_1^\scrA (A)| \leq \aleph_0$.
	%TODO Bild: KArtoffel
\end{example}
%PRUEFUNGSRELEVANT
\begin{example}
	Sei $\mathcal{G} = (G, R)$ Zufallsgraph. Alle Typen sind der Form $\{xRa \}_{a \in A} \cup \{\lnot xRb \}_{b \in G \setminus A} \cup \{\lnot (x \dot= g) \}_{g \in G}$. Somit folgt insbesondere $|S^\mathcal{G}_1 (G)| \geq 2^{|G|}$.
\end{example}
\begin{theorem}[Typenvermeidungssatz]
	Sei $T$ eine abz"ahlbare konsistente Theorie (Theorie in einer abz"ahlbaren Sprache), $p \in S_n(T)$ ein nicht-isolierter $n$-Typ. Es gibt ein abz"ahlbares Modell $\mathcal{M}$ von $T$, welches $p$ vermeidet, das hei"st $p$ wird nicht in $\mathcal{M}$ realisiert.
\end{theorem}
\begin{proof}[Beweis mit Henkins Methode]
	Sei $C$ eine abz"ahlbare Menge von neuen Konstanten. In der Sprache $\scrL \cup C$, sei $\{\varphi_m[\vec{x}] \}_{m \in \setN}$ eine Aufz"ahlung aller Formeln in einer Variablen. Sei $\{\vec{c_k} \}_{k \in \setN}$ eine Aufz"ahlung aller $n$-Tupel aus $C$. Konstruiere eine Kette $\sum_0 \subset \sum_1 \subset \sum_2 \subset \dots$ von endlichen Mengen von ($\scrL \cup C$)-Aussagen derart, dass $T \cup \sum_k$ konsistent ist f"ur jedes $k \in \setN$.\\
	$\sum_0 = \emptyset$.\\
	Angenommen $\sum_k$ bereits konstruiert.
	
	\underline{1. Fall:} $k=2m$. Sei $i \in \setN$ minimal, sodass $c_i$ weder in $\varphi_m$ noch in den Aussagen aus $\sum_k$ vorkommt. Setze 
	\begin{equation*}
		\sum_{k+1} = \sum_k \cup \{(\Exists x \varphi_m [x] \rightarrow \varphi[c_i]) \}
	\end{equation*}
	$T \cup \sum_{k+1}$ ist konsistent.
	
	\underline{2. Fall:} $k= 2m +1$. Sei $\bigwedge\limits_{\chi \in \sum_k} \chi = \Theta[\overbrace{\vec{c}}^{\substack{\text{Tupel}\\\text{aus } C}}]$, f"ur $\Theta$ eine $\scrL$-Formel. OBdA schreibe $\Theta[\vec{c}] = \Theta[\underbrace{\vec{c_m}}_{n\text{-Tupel}},\vec{c}]$. Setze $\varphi[x_1, \dots, x_n] =  \Exists \vec{y} \Theta[\vec{x}, \vec{y}]$.
	
	\emph{Bemerke:} $T \cup \{\Exists \vec{x} \varphi[\vec{x}] \}$ ist konsistent.\\
	Also ist $\emptyset \neq [\varphi]$ eine nicht-leere Umgebung $S_n(T)$. Weil $p$ nicht isoliert ist, gibt es $\psi \in p$ mit $T \not\models \Forall \vec{x} (\varphi[\vec{x}]) \Longrightarrow$ es gibt ein Modell $\underbrace{\mathcal{M}}_{\scrL \text{-Struktur}}$ von $T$ mit $\vec{a} \in M^n \mid \mathcal{M} \models \varphi[\vec{a}]$, aber $\mathcal{M} \models \lnot \psi[\vec{a}]$. Damit folgt insbesondere: es gibt ein $\vec{d}$ in $M$ mit $\mathcal{M} \models \Theta[\vec{a}, \vec{d}]$.
	
	Setze
	\begin{equation*}
		\sum_{k+1} = \sum_k \cup \{\lnot \psi[\vec{c_m}] \}
	\end{equation*}
	Ist $T \cup \sum_{k+1}$ konsistent? $\rightarrow$ ja.\\
	Sei $T' = T \cup \bigcup\limits_{k \in \setN} \sum_k$ ist endlich konsistent und $C$ ist eine Menge von Henkinkonstanten f"ur $T \cup \sum_k$.
	
	$\underset{\substack{\text{Beweis von}\\\text{Henkin}}}{\Longrightarrow}$ Es gibt ein abz"ahlbares Modell $\mathcal{M}$ von $T'$, welches nur aus Interpretationen der Konstanten aus $C$ besteht.
	
	\underline{Insbesondere:} $\mathcal{M} \models T$ abz"ahlbar.\\
	$\zz p$ wird in $\mathcal{M}$ nicht realisiert:\\
	Sei $\vec{a} \in M^n \rightarrow \vec{a}$ ist die Interpretation des Tupels $\vec{c_m}$ f"ur eon $m \in \setN$.\\
	$\underset{\substack{\text{Schritt}\\ 2m+1}}{\Longrightarrow} \mathcal{M} \models \lnot \psi[\vec{a}]$ f"ur ein $\psi \in p$.
\end{proof}

%Sitzung 13 3.12.19
\begin{remark}
	$p \in S_n (T)$ nicht isoliert. $\{p\}$ abgeschlossen, aber $\{\mathring{p} \} = \emptyset$, wobei $\mathring{A}$ die gr"o"ste offene Menge $U$ ist, welche ganz in $A$ liegt. (das Innere von $A$)
	
	\emph{Warum?} $\underset{\text{offen}}{U \subset} \{p\} \Longrightarrow \begin{array}{c}
		U = \emptyset\\
		\overset{\text{oder}}{\underbrace{U = \{p\}}_{\substack{\text{abgeschlossen}\\\text{und offen}}}} 
	\end{array}\Longrightarrow p$ isoliert.
\end{remark}
\section{Magere Mengen und Typenvermeidungssatz}
\begin{definition}
	Eine Menge $A$ in einem topologischen Raum $(X,T)$ ist \emph{nirgends dicht}, falls $\mathring{\bar{A}}=\emptyset$, wobei $\bar{A}$ kleinste abgeschlossene Menge welche $A$ enth"alt ist.
\end{definition}
\begin{example}
	Ist $\setQ \subset \setR$ nirgends dicht? Nein, denn $\bar{\setQ} = \setR, \mathring{\setR} = \setR$.
\end{example}
\begin{definition}
	$A$ ist \emph{mager}\footnote{Idee hier: "`nicht so gro"s"'}, falls $A = \bigcup\limits_{n \in \setN} A_n$, wobei $A_n$ nirgends dicht.
\end{definition}
\begin{theorem}[Verallgemeinerter Typenvermeidungssatz]
	$T$ abz"ahlbar konsistent. Sei $A_n \subset S_n(T)$ mager f"ur jedes $n \in \setN$. Dann gibt es ein abz"ahlbares Modell $\scrM \models T$, welches alle Typen in $\bigcup\limits_{n \in \setN} A_n$ vermeidet.
\end{theorem}
\begin{proof}[Hier ohne Beweis]
\end{proof}
\begin{definition}
	Sei $\scrA$ ein $\scrL$-Struktur. Ein $n$-Typ $p \in S_n^\scrA (B), \scrB \subset \scrA$ ist \emph{atomar}, falls $p$ isoliert ist.
\end{definition}
%PRUEFUNGSRELEVANT
\begin{lemma}
	Sei $\scrA$ ein $\scrL$-Struktur, $\vec{a}, \vec{b}$ endliche Tupel.
	\begin{equation*}
		\underbrace{\typ^\scrA(\vec{a},\vec{b}) }_{\{\varphi[\vec{x}, \vec{y}]~ \scrL \text{-Formel} \mid \scrA \models \varphi[\vec{a},\vec{b}] \}} \text{ ist isoliert} \Longleftrightarrow \typ^\scrA(\vec{b}) \text{ und } \underbrace{\typ^\scrA(\vec{a} / \vec{b})}_{\substack{= \{\psi[\vec{x}] \text{ Formeln in}\\ \scrL \cup \{b_1, \dots, b_n\} \mid \scrA \models \psi [\vec{a}]}} \text{ sind beide isoliert.}
	\end{equation*}
\end{lemma}
\begin{proof}
	\underline{"`$\Rightarrow$"':} Angenommen $\varphi[\vec{x}, \vec{y}]$ isoliert $\typ^\scrA(\vec{a},\vec{b})$. Zeige zuerst, dass $\varphi[\vec{x}, \vec{b}]$ den Typ $\typ^\scrA(\vec{a}/\vec{b})$ isoliert. (liegt bereits im Typ nach Definition)
	
	Sei $\psi[\vec{x}, \vec{b}] \in \typ^\scrA (\vec{a}/\vec{b}) \Rightarrow \scrA \models \psi[\vec{a},\vec{b}]$.
	
	Zu zeigen: $\scrA \models \Forall \vec{x}(\varphi[\vec{x}, \vec{b}] \rightarrow \psi[\vec{x}, \vec{b}])$.\\
	Wegen $\varphi[\vec{x},\vec{y}]$ isoliert $\typ^\scrA(\vec{a},\vec{b})$, gilt auch $\scrA \models \Forall\vec{x} \Forall \vec{y}(\varphi[\vec{x}, \vec{y}]\rightarrow \psi[\vec{x},\vec{y}]) \Rightarrow$ Behauptung.
	
	%PRUEFUNGSRELEVANT
	F"ur $\typ^\scrA(\vec{b}) \ni \underline{\Exists \vec{x} \varphi[\vec{x},\vec{y}]} \rightarrow$ zeige, dass diese Formel den Typ isoliert.
	
	$\scrA \models \Forall \vec{y}(\Exists \vec{x}\varphi[\vec{x}, \vec{y}]\rightarrow \Theta[\vec{y}]), \underset{\scrA \models \Theta[\vec{b}] \Rightarrow \scrA \models \Theta[\vec{a}, \vec{b}]}{\Theta \in \typ^\scrA(\vec{b})}$.
	
	Sei $\vec{b_1} \in A$ beliebig mit $\scrA \models \Exists\vec{x} \varphi[\vec{x}, \vec{b_1}] \Rightarrow$ es gibt ein $\vec{a_1} \in A$ mit $\scrA \models \varphi[\vec{a_1}, \vec{b_1}]$.
	
	Es gilt immer $\scrA \models \Forall \vec{x} \Forall \vec{y} (\varphi[\vec{x}, \vec{y}] \rightarrow \Theta[\vec{y}]) \Longrightarrow \scrA \models \Theta[\vec{b_1}]$.
	
	\underline{"`$\Leftarrow$"':} Sei $\Theta[\vec{y}] \in \typ^\scrA(\vec{b})$ und $\varphi[\vec{x}, \vec{b}] \in \typ^\scrA (\vec{a}/\vec{b})$ isolierende Formeln. Setze $\psi[\vec{x}, \vec{y}] = (\varphi[\vec{x}, \vec{y}] \land \Theta[\vec{y}]) \in \typ^\scrA(\vec{a}, \vec{b})$.
	
	$\zz \scrA \models \Forall \vec{x} \Forall \vec{y} (\psi[\vec{x}, \vec{y}] \rightarrow \chi[\vec{x}, \vec{y}])$ f"ur alle $\chi \in \typ^\scrA(\vec{a}/\vec{b}): \scrA \models \chi[\vec{x}, \vec{y}]$.
	
	$\chi[\vec{x}, \vec{b}] \in \typ^\scrA(\vec{a}/\vec{b}) \Rightarrow \scrA \models \underbrace{\Forall \vec{x}(\varphi[\vec{x}, \vec{b}] \rightarrow \chi[\vec{a}, \vec{b}])}_{\Theta_1[\vec{b}]}$. Also $\Theta_1[\vec{y}] \in \typ^\scrA(\vec{b}) \rightarrow \scrA \models \Forall \vec{y} (\Theta[\vec{y}] \rightarrow \Theta_1[\vec{y}])$.\\
	Sei nun $\vec{a_1}, \vec{b_1} \in A$ mit $\scrA \models \psi[\vec{a_1}, \vec{b_1}] \begin{cases}
		\scrA \models \varphi[\vec{a_1},\vec{b_1}]\\
		\overset{\text{und}}{\scrA \models \Theta[\vec{b_1}]}
	\end{cases}$. $\overset{\text{mit "`also"'}}{\Longrightarrow} \scrA \models \Theta_1[\vec{b_1}] \underset{\scrA \models \varphi[\vec{a_1},\vec{b_1}]}{\Longrightarrow} \scrA \models \chi[\vec{a_1},\vec{b_1}]$. 
\end{proof}

\section{Primmodelle. Existenz und Eindeutigkeit}
\heading{Ab jetzt:} $T$ ist eine konsistente abz"ahlbare Theorie.
\begin{definition}
	$\scrM \models T$ ist ein \emph{Primmodell}, falls $\scrM$ sich in jedes andere Modell von $T$ elementar einbetten l"asst.
\end{definition}
\begin{example}
	$\underbrace{\setQ}_\text{Primmodell} , \setQ \oplus \setQ , \dots, \setQ^n , \dots, \setQ^\omega$. Wegen Quantorenelimination ist jede Einbettung elementar!
\end{example}
\begin{remark}
	\begin{itemize}
		\item Wenn $T$ ein Primmodell besitzt, dann ist $T$ vollst"andig
		\item Wenn $\scrM$ ein Primmodell von $T$ ist, dann ist $\scrM$ abz"ahlbar
		\item Wenn $\scrM$ ein Primmodell von $T$ ist, dann ist der Typ $\typ^\scrM(\vec{a})$ f"ur $\vec{a} \in M$ immer $\begin{array}{c}
			\text{atomar}\\\text{isoliert}
		\end{array}$ (sonst finde Modell das Typen nicht realisiert. Einbettung liefert doch eine Realisierung)
	\end{itemize}
\end{remark}

\heading{Ab jetzt:} $T$ ist vollst"andige, abz"ahlbare Theorie ohne endliche Modelle.
\begin{theorem}
	$T$ wie oben. $\scrM \models T$ ist genau dann prim, wenn $\scrM$ abz"ahlbar ist und f"ur jedes Tupel $\underset{\text{endlich}}{\vec{a}\in M}$ gilt, dass $\typ^\scrM (\vec{a})$ atomar ist.
\end{theorem}
\begin{proof}
	\underline{"`$\Rightarrow$"':} $\checkmark$ (gerade gesehen)
	
	\underline{"`$\Leftarrow$"':} Sei $\scrN \models T$ beliebig. $\zz \scrM \hookrightarrow \scrN$ elementar.
	
	Sei $(a_n)_{n \in \setN}$ eine Aufz"ahlung von $M$. Konstruiere eine Kette $(f_n)_{n \in \setN}$ elementarer Abbildungen zwischen endlich erzeugten Teilmengen von $\scrM$ un $\scrN$ derart, dass $a \in \dom(f_{n+1})$.
	
	Sei $f_0 = \emptyset \overset{T\text{ vollst.}}{\longrightarrow} \scrM \equiv \scrN$.\\
	Angenommen $f_n$ konsistent. Betrachte \underline{$a_n$}.
	
	\underline{1. Fall:} $a_n \in \dom(f_n) \rightarrow f_{n+1} = f_n$
	
	\underline{2. Fall:} Sonst schreibe $\vec{a}$ eine Aufz"ahlung von $\dom(f_n)$, $\vec{b} \in N$ eine Aufz"ahlung von $\im(f_n)$.\\
	$\typ^\scrM(\vec{a}, a_n)$ atomar $\Longrightarrow \underbrace{\typ^\scrM(a_n/\vec{a})}_{\in S_1^\scrM(\vec{a})}$ ist atomar.
	
	$f_n^{-1}: \vec{b} \longrightarrow \vec{a}$ elementar. $\rightarrow (f_n^{-1})_* : S_1^\scrM(\vec{a}) \longrightarrow S_1^\scrN(\vec{b})$ Hom"oomorphismus (denn die Parametermenge ist gleich).
	
	Insbesondere: Topologie bleibt erhalten: $(f_n^{-1})_*(\typ^\scrM(a_n/\vec{a}))$ ist isoliert $\Rightarrow$ wird in $\scrN$ von Element $b$ realisiert.
	
	Setze $f_{n+1} = f_n \cup \{(a_n, b) \}$.
	
	$\scrM \models \varphi[a_n, \vec{a}] \Leftrightarrow \varphi[x, \vec{a}] \in \typ^\scrM(a/\vec{a}) \underset{\text{Bild unter } (f_n^{-1})_*}{\Longleftrightarrow} \varphi[\vec{x}, \vec{b}] \in \typ^\scrN (b/\vec{b}) \Leftrightarrow \scrN \models \varphi[b, \vec{b}]$.
\end{proof}
\begin{corollary}
	Das Primmodell einer vollst"andigen abz"ahlbaren Theorie $T$ ist, wenn es existiert, bis auf Isomorphie eindeutig.
\end{corollary}
\begin{proof}
	Analog.
\end{proof}

%Sitzung 14 5.12.19
\begin{example}[Beispiele von Primmodellen]
	\begin{itemize}
		\item $\setQ$-Vektorraum $\longrightarrow \setQ$
		\item $\exists^\infty \longrightarrow \scrM$ abz"ahlbar
		\item $\acf_0 \longrightarrow \bar{\setQ}$
		\item $\scrM = \{0,1\}^\omega$ in der Sprache $\scrL = \{P_s\}$, $s$ endliche Folge von $0, 1$. $P_s^\scrM(t) = \{$der Anfang von $T$ ist $s\}$.\\
		$T = \Th(\scrM)$ hat Quantorenelimination: \begin{equation*}
			\underbrace{\Exists y (\bigwedge \varphi[x_1, \dots, x_n, y])}_\text{primitive Existenzformel} \sim \Theta[x_1, \dots, x_n] \land \Exists y \rho[y] \sim \begin{cases*}
				x_1 \dot= x_1 &eine Tautologie\\
				\lnot x_1 \dot= x_1 &immer falsch
			\end{cases*}
		\end{equation*}
		Zudem \begin{equation*}
			T \vdash \Forall x (P_{000}(x) \lor P_{001}(x) \lor P_{010}(x) \lor P_{011}(x) \lor P_{100}(x) \lor P_{110}(x) \lor P_{111}(x) \lor P_{101}(x))
		\end{equation*}
		$\longrightarrow$ Man kann keine Typen isolieren, weil sich Typen nicht eindeutig durch endlich viele Aussagen bestimmen lassen.
	\end{itemize}
\end{example}
\begin{theorem}
	Es sei $T$ vollst"andig, abz"ahlbar mit unendlichen Modellen. Dann gilt: \\$T$ besitzt ein Primmodell $\Longleftrightarrow$ f"ur jedes $n \in \setN$ liegen die isolierten Typen dicht in $S_n(T)$.
\end{theorem}
\begin{proof}
	\underline{"`$\Rightarrow$"':} Sei $n \in \setN$ und $[\varphi[x_1, \dots, x_n]] \neq \emptyset$ in $S_n(T)$. $T$ besitzt ein Primmodell $\scrM$. Also $T \cup \{\Exists \vec{x} \varphi[\vec{x}]\}$ konsistent. $\overset{T \text{ vollst"andig}}{\underset{\scrM \text{ Modell}}{\Longrightarrow}} \scrM \models \Exists \vec{x} \varphi[\vec{x}] \Rightarrow$ es gibt ein $\vec{a} \in M^n \mid \scrM \models \varphi[\vec{a}]$. Dann gilt $\underbrace{\typ^\scrM(\vec{a})}_{\substack{\text{isoliert, weil Typen}\\\text{in Primmodell}\\\text{immer isoliert}}} \in [\varphi]$.
	
	\underline{"`$\Leftarrow$"':} Ein abz"ahlbares Modell $\scrM \models T$ ist dann prim, falls f"ur jedes $n \in \setN ~\scrM$ die Menge von Formeln $\sum_n = \{\lnot \varphi[x_1, \dots, x_n] \}_{\varphi~ \scrL \text{-Formel, } [\varphi] = \{\text{pt} \} \text{ in }S_n(T)}$
	
	Ein $n$-Typ $p$ enth"alt $\sum_n \Leftrightarrow p \in \overbrace{\bigcap\limits_{\substack{\varphi[x_1, \dots, x_n]\\\scrL \text{-Formel mit}\\ [\varphi]= \{\text{pt}\}}} \underbrace{[\lnot \varphi]}_{\text{abgeschlossen}}}^{\substack{\text{Schnitte abgeschlossener Mengen}\\ \text{sind abgeschlossen}}}$
	
	Wenn $\bigcap\limits_{\substack{\varphi_n\\\text{isolierende}\\\text{Formel}}} [\lnot \varphi]$ mager ist, dann gibt es ein abz"ahlbares Modell, welches kein $\underbrace{\Sigma_n}_\text{Primmodell}$ realisiert.
	
	Wir zeigen $\bigcap\limits_{\substack{\varphi_n\\\text{isolierende}\\\text{Formel}}} [\lnot \varphi]$ nirgends dicht. Wie sieht das Innere von $\underbrace{\bigcap\limits_{\substack{\varphi_n\\\text{isolierende}\\\text{Formel}}} [\lnot \varphi]}_\text{abgeschlossen}$ aus?
	
	Sei $\underset{\text{offen}}{U \subset} \bigcap\limits_{\substack{\varphi_n\\\text{isolierende}\\\text{Formel}}} [\lnot \varphi]$. Es gen"ugt, den Fall $U = [\psi]$ zu betrachten.
	
	$\zz [\psi] = \emptyset$. Falls $[\psi] \neq \emptyset \Rightarrow $ es gibt ein $p \in [\psi]$ isolierter Typ $\Longrightarrow$ es gibt eine isolierende Formel $\chi \in p$. Somit $ p \in \bigcap\limits_{\substack{\varphi_n\\\text{isolierende}\\\text{Formel}}} [\lnot \varphi] \Longrightarrow p \in [\lnot \chi]$. Widerspruch, denn jetzt enth"alt $p$ eine Formel und deren Negation.
\end{proof}
\begin{definition}
	Sei $\scrA$ eine $\scrL$-Struktur. Ein bin"arer Baum von Formeln in einer freien Variablen mit Parametern aus $A$ ist eine Menge $\{\varphi_s [x]\}_{s \in \phantom{}^{<\omega}2}$ ($s$ ist also eine endliche Folge von $0,1$) von $\scrL_A$-Formeln mit folgenden Eigenschaften:
	\begin{enumerate}
		\item $\scrA \models \Exists x \varphi_s[x]$ f"ur jede endliche Folge $s$
		\item $\scrA \models \Forall x ((\varphi_{s \land 0}[x] \lor \varphi_{s \land 1}[x])\rightarrow \varphi_s[x])$
		\item $\scrA \models \lnot \Exists x (\varphi_{s \land 0}[x] \land \varphi_{s \land 1}[x])$
	\end{enumerate}
\end{definition}
\begin{definition}
	$T$ ist \emph{total transzendent}, falls $T$ kein Modell besitzt, in welchem es einen bin"aren Baum von Formeln in einer Variablen gibt.
\end{definition}
\begin{example}
	%TODO Baumgrafik einf"ugen
\end{example}
\begin{example}
	$T = \exists^\infty$. $\underbrace{X \subset}_\text{definierbar} M$ mit Parametern $\longrightarrow X$ endlich oder koendlich\footnote{das ist genau, was \nameref{morley} besagt (versteckt)}.
	%TODO Grafik mit Beschriftungen
\end{example}
\begin{example}[Nicht-Beispiel]
	$T =$ Zufallsgraphen. %TODO Grafik
\end{example}
\begin{lemma}
	$T$ vollst"andig abz"ahlbar mit unendlichen Modellen. Falls $T$ total transzendent ist, dann liegen f"ur jedes $\scrM \models T, \underbrace{A \subset}_\text{abz"ahlbar} M$ die isolierten Typen dicht in $S_n^\scrM(A)$.
	
	Insbesondere besitzt $T$ ein Primmodell.
\end{lemma}
\begin{proof}
	Es gen"ugt zu zeigen, dass die isolierten Typen dicht in $S_1^\scrM(A)$ liegen (vgl. "Ubung). %TODO Zahl einf"ugen
	Sonst gibt es eine offene, nicht-leere Umgebung ohne isolierte Typen. OBdA wird diese Umgebung durch $[\varphi[x]]$ gegeben.
	
	$0 \neq |[\varphi]| \geq 2$. Finde also $p \neq q \in [\varphi]$. Weil $S_1^\scrM$ Hausdorff ist, finden wir insbesondere $\psi_1 \ni p, \psi_2 \ni q$ mit $[\psi_1] \cap [\psi_2] = \emptyset$.
	
	Dadurch bricht der Baum nicht ab. %TODO Grafik
\end{proof}
\end{document}